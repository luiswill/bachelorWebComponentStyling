<template id="template">
    <style>
        h3 {
            color: var(--primary-color, red);
        }
        h2 {
            color: red;
            border: var(--border-size, 5px) solid var(--border-color, red);
        }
        a {
            color: var(--link-color, red);
            font-size: var(--link-size, 13px);
        }
    </style>

    <h3>This headline in a custom element will be colored green, <br/>because shared styles override component's styles.</h3>
    <h2>This headline in a custom element will be colored red, <br/>because of component's styles.</h2>
    <a href="#">This link does not get the green from normalize.css</a>
</template>

<script>
    var doc = (document._currentScript || document.currentScript).ownerDocument;
    var template = doc.querySelector('#template');

    class CustomElement extends HTMLElement {
        constructor() {
            super();

            const root = this.attachShadow({mode: "open"});
            root.appendChild(template.content);
        }
    }

    customElements.define('custom-element', CustomElement);
</script>