<template id="template">
    <link rel="stylesheet" href="normalize.css">
    <link rel="stylesheet" href="shared-styles.css">
    <style>
        h3 {
            color: var(--primary-color, red);
        }
    </style>
    <h3>Headline gets green thanks to a custom property <br> received from shared-styles.css</h3>
    <a href="#">This link gets the color green from normalize.css.</a>
</template>

<script>
    var doc = (document._currentScript || document.currentScript).ownerDocument;
    var template = doc.querySelector('#template');

    class AnotherElement extends HTMLElement {
        constructor() {
            super();

            const root = this.attachShadow({mode: "open"});
            root.appendChild(template.content);
        }
    }

    customElements.define('another-element', AnotherElement);
</script>