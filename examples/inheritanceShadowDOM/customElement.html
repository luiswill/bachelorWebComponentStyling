<template id="template">
    <style>
    </style>
    <h2>This headline will be colored red even with a closed shadow DOM. <br/>That is because of the inheritance. </h2>
</template>

<script>
    var doc = (document._currentScript || document.currentScript).ownerDocument;
    var template = doc.querySelector('#template');

    class CustomElement extends HTMLElement {
        constructor() {
            super();

            const root = this.attachShadow({mode: "closed"});
            root.appendChild(template.content);
        }
    }

    customElements.define('custom-element', CustomElement);
</script>