<template id="template">
    <link rel="stylesheet" type="text/css" href="styles.css">
    <style>
        h3 {
            --color-headline: var(--headline-color, pink);
        }

        h3 {
            
            color: var(--color-headline, gold);
        }
    </style>

    <h3>Custom element with a shadow DOM importing shared styles with custom properties.</h3>
</template>

<script>
    var doc = (document._currentScript || document.currentScript).ownerDocument;
    var template = doc.querySelector('#template');

    class ShadowDOMOpened extends HTMLElement {
        constructor() {
            super();

            const root = this.attachShadow({mode: "open"});
            root.appendChild(template.content);
        }
    }

    customElements.define('open-shadow', ShadowDOMOpened);
</script>