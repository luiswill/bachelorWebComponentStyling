<!DOCTYPE html><html xmlns:cc="http://creativecommons.org/ns#"><head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# medium-com: http://ogp.me/ns/fb/medium-com#"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=contain"><title>Open vs. Closed Shadow DOM – RevillWeb</title><link rel="canonical" href="https://blog.revillweb.com/open-vs-closed-shadow-dom-9f3d7427d1af"><meta name="title" content="Open vs. Closed Shadow DOM – RevillWeb"><meta name="referrer" content="unsafe-url"><meta name="description" content="Out of the four specifications created for Web Components, the Shadow DOM is one of the most powerful. The Shadow DOM allows the component author to create an encapsulated sub-DOM tree for their…"><meta name="theme-color" content="#000000"><meta property="og:title" content="Open vs. Closed Shadow DOM – RevillWeb"><meta property="twitter:title" content="Open vs. Closed Shadow DOM – RevillWeb"><meta property="og:url" content="https://blog.revillweb.com/open-vs-closed-shadow-dom-9f3d7427d1af"><meta property="og:image" content="https://cdn-images-1.medium.com/max/1200/1*yzZe0-UV716LT4jh3Wn7aQ.png"><meta property="fb:app_id" content="542599432471018"><meta property="og:description" content="Out of the four specifications created for Web Components, the Shadow DOM is one of the most powerful. The Shadow DOM allows the component…"><meta name="twitter:description" content="Out of the four specifications created for Web Components, the Shadow DOM is one of the most powerful. The Shadow DOM allows the component…"><meta name="twitter:image:src" content="https://cdn-images-1.medium.com/max/1200/1*yzZe0-UV716LT4jh3Wn7aQ.png"><link rel="publisher" href="https://plus.google.com/103654360130207659246"><link rel="author" href="https://blog.revillweb.com/@revillweb"><meta property="author" content="Leon Revill"><meta property="og:type" content="article"><meta name="twitter:card" content="summary_large_image"><meta property="article:publisher" content="https://www.facebook.com/medium"><meta property="article:author" content="https://blog.revillweb.com/@revillweb"><meta name="robots" content="index, follow"><meta property="article:published_time" content="2017-04-11T20:17:05.220Z"><meta name="twitter:creator" content="@revillweb"><meta name="twitter:site" content="@revillweb"><meta property="og:site_name" content="RevillWeb"><meta name="twitter:label1" value="Reading time"><meta name="twitter:data1" value="6 min read"><meta name="twitter:app:name:iphone" content="Medium"><meta name="twitter:app:id:iphone" content="828256236"><meta name="twitter:app:url:iphone" content="medium://p/9f3d7427d1af"><meta property="al:ios:app_name" content="Medium"><meta property="al:ios:app_store_id" content="828256236"><meta property="al:android:package" content="com.medium.reader"><meta property="al:android:app_name" content="Medium"><meta property="al:ios:url" content="medium://p/9f3d7427d1af"><meta property="al:android:url" content="medium://p/9f3d7427d1af"><meta property="al:web:url" content="https://blog.revillweb.com/open-vs-closed-shadow-dom-9f3d7427d1af"><link rel="search" type="application/opensearchdescription+xml" title="Medium" href="/osd.xml" /><link rel="alternate" href="android-app://com.medium.reader/https/medium.com/p/9f3d7427d1af" /><script type="application/ld+json">{"@context":"http://schema.org","@type":"NewsArticle","image":{"@type":"ImageObject","width":616,"height":508,"url":"https://cdn-images-1.medium.com/max/770/1*yzZe0-UV716LT4jh3Wn7aQ.png"},"url":"https://blog.revillweb.com/open-vs-closed-shadow-dom-9f3d7427d1af","dateCreated":"2017-04-11T20:17:05.220Z","datePublished":"2017-04-11T20:17:05.220Z","dateModified":"2018-06-07T17:38:59.446Z","headline":"Open vs. Closed Shadow DOM","name":"Open vs. Closed Shadow DOM","thumbnailUrl":"https://cdn-images-1.medium.com/max/770/1*yzZe0-UV716LT4jh3Wn7aQ.png","keywords":["Tag:JavaScript","Tag:Web Development","Tag:Web Components","Tag:Shadow Dom","Tag:Custom Elements","Publication:revillweb","LockedPostSource:0","Elevated:false","LayerCake:0"],"author":{"@type":"Person","name":"Leon Revill","url":"https://blog.revillweb.com/@revillweb"},"creator":["Leon Revill"],"publisher":{"@type":"Organization","name":"RevillWeb","url":"https://blog.revillweb.com","logo":{"@type":"ImageObject","width":500,"height":60,"url":"https://cdn-images-1.medium.com/max/625/1*E1jCxxCSDnDCL1ylggE7ag.png"}},"mainEntityOfPage":"https://blog.revillweb.com/open-vs-closed-shadow-dom-9f3d7427d1af"}</script><link rel="stylesheet" type="text/css" class="js-glyph-" id="glyph-8" href="https://glyph.medium.com/css/e/sr/latin/e/ssr/latin/e/ssb/latin/m2.css" /><link rel="stylesheet" href="https://cdn-static-1.medium.com/_/fp/css/main-branding-base.Fc55unvcP5htkyH_Q-aGIA.css"><script>if (window.top !== window.self) window.top.location = window.self.location.href;var OB_startTime = new Date().getTime(); var OB_loadErrors = []; function _onerror(e) { OB_loadErrors.push(e) }; if (document.addEventListener) document.addEventListener("error", _onerror, true); else if (document.attachEvent) document.attachEvent("onerror", _onerror); function _asyncScript(u) {var d = document, f = d.getElementsByTagName("script")[0], s = d.createElement("script"); s.type = "text/javascript"; s.async = true; s.src = u; f.parentNode.insertBefore(s, f);}function _asyncStyles(u) {var d = document, f = d.getElementsByTagName("script")[0], s = d.createElement("link"); s.rel = "stylesheet"; s.href = u; f.parentNode.insertBefore(s, f); return s}(new Image()).src = "/_/stat?event=pixel.load&origin=" + encodeURIComponent(location.origin);</script><script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date; ga("create", "UA-24232453-2", "auto", {"allowLinker": true, "legacyCookieDomain": window.location.hostname}); ga("send", "pageview");</script><script async src="https://www.google-analytics.com/analytics.js"></script><!--[if lt IE 9]><script charset="UTF-8" src="https://cdn-static-1.medium.com/_/fp/js/shiv.RI2ePTZ5gFmMgLzG5bEVAA.js"></script><![endif]--><link rel="icon" href="https://cdn-static-1.medium.com/_/fp/icons/favicon-rebrand-medium.3Y6xpZ-0FSdWDnPM3hSBIA.ico" class="js-favicon"><link rel="apple-touch-icon" sizes="152x152" href="https://cdn-images-1.medium.com/fit/c/190/190/1*tnrd_FVMSgByauWwR89P3Q.png"><link rel="apple-touch-icon" sizes="120x120" href="https://cdn-images-1.medium.com/fit/c/150/150/1*tnrd_FVMSgByauWwR89P3Q.png"><link rel="apple-touch-icon" sizes="76x76" href="https://cdn-images-1.medium.com/fit/c/95/95/1*tnrd_FVMSgByauWwR89P3Q.png"><link rel="apple-touch-icon" sizes="60x60" href="https://cdn-images-1.medium.com/fit/c/75/75/1*tnrd_FVMSgByauWwR89P3Q.png"><link rel="mask-icon" href="https://cdn-static-1.medium.com/_/fp/icons/monogram-mask.KPLCSFEZviQN0jQ7veN2RQ.svg" color="#171717"></head><body itemscope class=" postShowScreen browser-chrome os-windows is-withMagicUnderlinesv-glyph v-glyph--m2 is-noJs"><script>document.body.className = document.body.className.replace(/(^|\s)is-noJs(\s|$)/, "$1is-js$2")</script><div class="site-main" id="container"><div class="butterBar butterBar--error"></div><div class="surface"><div id="prerendered" class="screenContent"><canvas class="canvas-renderer"></canvas><div class="container u-maxWidth740 u-xs-margin0 notesPositionContainer js-notesPositionContainer"></div><div class="metabar u-clearfix js-metabar u-textColorTransparentWhiteDarker u-fixed u-backgroundTransparentWhiteDarkest u-xs-sizeFullViewportWidth u-tintBgColor u-tintSpectrum"><div class="js-metabarMiddle metabar-inner u-marginAuto u-maxWidth1000 u-flexCenter u-justifyContentSpaceBetween u-height65 u-xs-height56 u-paddingLeft20 u-paddingRight20"><div class="metabar-block u-flex1  u-flexCenter"><div class="js-metabarLogoLeft"><a href="https://medium.com/" data-log-event="home" class="siteNav-logo u-flexCenter u-paddingTop0"><span class="svgIcon svgIcon--logoMonogram svgIcon--45px is-flushLeft u-textColorDarker"><svg class="svgIcon-use" width="45" height="45" viewBox="0 0 45 45" ><path d="M5 40V5h35v35H5zm8.56-12.627c0 .555-.027.687-.318 1.03l-2.457 2.985v.396h6.974v-.396l-2.456-2.985c-.291-.343-.344-.502-.344-1.03V18.42l6.127 13.364h.714l5.256-13.364v10.644c0 .29 0 .342-.185.528l-1.848 1.796v.396h9.19v-.396l-1.822-1.796c-.184-.186-.21-.238-.21-.528V15.937c0-.291.026-.344.21-.528l1.823-1.797v-.396h-6.471l-4.622 11.542-5.203-11.542h-6.79v.396l2.14 2.64c.239.292.291.37.291.768v10.353z"/></svg></span><span class="u-textScreenReader">Homepage</span></a></div><div class="u-flexCenter u-height65 u-xs-height56"><span class="u-inlineBlock u-height28 u-xs-height24 u-verticalAlignTop u-marginRight20 u-marginLeft15 u-borderRightTransparentWhiteLighter"></span></div><div class="u-flexCenter u-height65 u-xs-height56 u-marginRight18"><a class="js-collectionLogoOrName u-uiTextBold u-fontSize18 u-lineHeightTightest u-xs-fontSize22" href="https://blog.revillweb.com?source=logo-lo_9oP3ojo8zxMy---32ee5a45be0a"><img height="36" width="300" class="u-paddingTop5" src="https://cdn-images-1.medium.com/letterbox/375/45/50/50/1*E1jCxxCSDnDCL1ylggE7ag.png?source=logoAvatar-lo_9oP3ojo8zxMy---32ee5a45be0a" alt="RevillWeb" /></a></div><div class="u-flexCenter u-height65 u-xs-height56 u-xs-hide"><div class="buttonSet"><button class="button button--primary button--smallest u-noUserSelect button--withChrome u-accentColor--buttonNormal js-relationshipButton is-smallPill"  data-action="sign-up-prompt" data-sign-in-action="toggle-follow-collection" data-requires-token="true" data-redirect="https://medium.com/_/subscribe/collection/revillweb" data-action-source="----32ee5a45be0a----------------------follow_header" data-collection-id="32ee5a45be0a"><span class="button-label  js-buttonLabel">Follow</span></button><a class="button button--light button--chromeless is-touchIconBlackPulse u-baseColor--buttonLight button--withIcon button--withSvgIcon"   href="https://twitter.com/revillweb" title="Visit “RevillWeb” on Twitter" aria-label="Visit “RevillWeb” on Twitter" rel="me" target="_blank"><span class="button-defaultState"><span class="svgIcon svgIcon--twitterFilled svgIcon--25px"><svg class="svgIcon-use" width="25" height="25" viewBox="0 0 25 25" ><path d="M21.725 5.338c-.744.47-1.605.804-2.513 1.006a3.978 3.978 0 0 0-2.942-1.293c-2.22 0-4.02 1.81-4.02 4.02 0 .32.034.63.07.94-3.31-.18-6.27-1.78-8.255-4.23a4.544 4.544 0 0 0-.574 2.01c.04 1.43.74 2.66 1.8 3.38-.63-.01-1.25-.19-1.79-.5v.08c0 1.93 1.38 3.56 3.23 3.95-.34.07-.7.12-1.07.14-.25-.02-.5-.04-.72-.07.49 1.58 1.97 2.74 3.74 2.8a8.49 8.49 0 0 1-5.02 1.72c-.3-.03-.62-.04-.93-.07A11.447 11.447 0 0 0 8.88 21c7.386 0 11.43-6.13 11.414-11.414.015-.21.01-.38 0-.578a7.604 7.604 0 0 0 2.01-2.08 7.27 7.27 0 0 1-2.297.645 3.856 3.856 0 0 0 1.72-2.23"/></svg></span></span></a></div></div></div><div class="metabar-block u-flex0 u-flexCenter"><div class="u-flexCenter u-height65 u-xs-height56"><div class="buttonSet buttonSet--wide u-lineHeightInherit"><a class="button button--primary button--light button--chromeless u-accentColor--buttonNormal is-inSiteNavBar u-xs-hide js-signInButton"   href="https://medium.com/m/signin?redirect=https%3A%2F%2Fblog.revillweb.com%2Fopen-vs-closed-shadow-dom-9f3d7427d1af&amp;source=--------------------------nav_reg&amp;operation=login" data-action="sign-in-prompt" data-redirect="https://blog.revillweb.com/open-vs-closed-shadow-dom-9f3d7427d1af" data-action-source="--------------------------nav_reg">Sign in</a><a class="button button--primary button--light button--withChrome u-accentColor--buttonNormal is-inSiteNavBar js-signUpButton"   href="https://medium.com/m/signin?redirect=https%3A%2F%2Fblog.revillweb.com%2Fopen-vs-closed-shadow-dom-9f3d7427d1af&amp;source=--------------------------nav_reg&amp;operation=register" data-action="sign-up-prompt" data-redirect="https://blog.revillweb.com/open-vs-closed-shadow-dom-9f3d7427d1af" data-action-source="--------------------------nav_reg">Get started</a></div></div></div></div></div><div class="metabar metabar--spacer js-metabarSpacer u-tintBgColor u-height65 u-xs-height56"></div><main role="main"><article class=" u-minHeight100vhOffset65 u-overflowHidden postArticle postArticle--full is-withAccentColors u-marginBottom40"  lang="en"><header class="container u-maxWidth740"><div class="uiScale uiScale-ui--regular uiScale-caption--regular postMetaHeader u-paddingBottom10 row"><div class="col u-size12of12 js-postMetaLockup"><div class="uiScale uiScale-ui--regular uiScale-caption--regular postMetaLockup postMetaLockup--authorWithBio u-flexCenter js-postMetaLockup"><div class="u-flex0"><a class="link u-baseColor--link avatar"   href="https://blog.revillweb.com/@revillweb?source=post_header_lockup" data-action="show-user-card" data-action-source="post_header_lockup" data-action-value="e97ebf5b2bc" data-action-type="hover" data-user-id="e97ebf5b2bc" data-collection-slug="revillweb" dir="auto"><img  src="https://cdn-images-1.medium.com/fit/c/75/75/0*FX9hLLN2cTVIyARD.jpeg" class="avatar-image avatar-image--small" alt="Go to the profile of Leon Revill"></a></div><div class="u-flex1 u-paddingLeft15 u-overflowHidden"><div class="u-lineHeightTightest"><a class="ds-link ds-link--styleSubtle ui-captionStrong u-inlineBlock link link--darken link--darker"   href="https://blog.revillweb.com/@revillweb?source=post_header_lockup" data-action="show-user-card" data-action-source="post_header_lockup" data-action-value="e97ebf5b2bc" data-action-type="hover" data-user-id="e97ebf5b2bc" data-collection-slug="revillweb" dir="auto">Leon Revill</a><span class="followState js-followState" data-user-id="e97ebf5b2bc"><button class="button button--smallest u-noUserSelect button--withChrome u-baseColor--buttonNormal button--withHover button--unblock js-unblockButton u-marginLeft10 u-xs-hide"  data-action="sign-up-prompt" data-sign-in-action="toggle-block-user" data-requires-token="true" data-redirect="https://blog.revillweb.com/open-vs-closed-shadow-dom-9f3d7427d1af" data-action-source="post_header_lockup"><span class="button-label  button-defaultState">Blocked</span><span class="button-label button-hoverState">Unblock</span></button><button class="button button--primary button--smallest u-noUserSelect button--withChrome u-accentColor--buttonNormal button--follow js-followButton u-marginLeft10 u-xs-hide"  data-action="sign-up-prompt" data-sign-in-action="toggle-subscribe-user" data-requires-token="true" data-redirect="https://medium.com/_/subscribe/user/e97ebf5b2bc" data-action-source="post_header_lockup-e97ebf5b2bc-------------------------follow_byline"><span class="button-label  button-defaultState js-buttonLabel">Follow</span><span class="button-label button-activeState">Following</span></button></span></div><div class="ui-caption ui-xs-clamp2 postMetaInline">Web architect, blogger &amp; author. Working hard to make awesome things for the web platform, mostly with web components.</div><div class="ui-caption postMetaInline js-testPostMetaInlineSupplemental"><time datetime="2017-04-11T20:17:05.220Z">Apr 11, 2017</time><span class="middotDivider u-fontSize12"></span><span class="readingTime" title="6 min read"></span></div></div></div></div></div></header><div class="postArticle-content js-postField js-notesSource js-trackedPost"  data-post-id="9f3d7427d1af" data-source="post_page" data-collection-id="32ee5a45be0a" data-tracking-context="postPage"><section name="0b40" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h1 name="3ce6" id="3ce6" class="graf graf--h3 graf--leading graf--title">Open vs. Closed Shadow DOM</h1><p name="bf88" id="bf88" class="graf graf--p graf-after--h3">Out of the four specifications created for Web Components, the Shadow DOM is one of the most powerful. The Shadow DOM allows the component author to create an encapsulated sub-DOM tree for their component.</p><figure name="3170" id="3170" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 140px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 20%;"></div><a href="https://pluralsight.pxf.io/c/1216269/424552/7490?u=https%3A%2F%2Fwww.pluralsight.com%2Fcourses%2Fvanilla-web-components-practical-guide" data-href="https://pluralsight.pxf.io/c/1216269/424552/7490?u=https%3A%2F%2Fwww.pluralsight.com%2Fcourses%2Fvanilla-web-components-practical-guide" class="graf-imageAnchor" data-action="image-link" data-action-observe-only="true"><div class="progressiveMedia js-progressiveMedia graf-image" data-image-id="1*lr3wkqeJ-hH_yvvRrffjbg.png" data-width="1000" data-height="200"><img src="https://cdn-images-1.medium.com/freeze/max/38/1*lr3wkqeJ-hH_yvvRrffjbg.png?q=20" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1000/1*lr3wkqeJ-hH_yvvRrffjbg.png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1000/1*lr3wkqeJ-hH_yvvRrffjbg.png"></noscript></div></a></div></figure><p name="d334" id="d334" class="graf graf--p graf-after--figure">The latest version (V1) of the Shadow DOM specification introduces a new concept when creating a Shadow Root: the <strong class="markup--strong markup--p-strong">mode</strong>.</p><p name="ed64" id="ed64" class="graf graf--p graf-after--p">To create a Shadow Root for an element you call the <code class="markup--code markup--p-code">attachShadow</code> method providing an object as an argument which has a required <code class="markup--code markup--p-code">mode</code> property.</p><pre name="4b72" id="4b72" class="graf graf--pre graf-after--p">let $element = document.createElement(&quot;div&quot;);<br>$element.attachShadow({ mode: &quot;open&quot; }); // open or closed</pre><p name="5b2e" id="5b2e" class="graf graf--p graf-after--pre">I’ve not seen any articles discussing the <strong class="markup--strong markup--p-strong">practical</strong> difference between using <code class="markup--code markup--p-code">open</code> and <code class="markup--code markup--p-code">closed</code> mode of Shadow DOM so I thought I’d put a short article together along with some simple examples.</p><h3 name="2a8b" id="2a8b" class="graf graf--h3 graf-after--p">The Shadow DOM</h3><p name="a5c3" id="a5c3" class="graf graf--p graf-after--h3">Before I describe the difference between the <code class="markup--code markup--p-code">open</code> and <code class="markup--code markup--p-code">closed</code> modes it’s import to understand what the Shadow DOM is and what it does.</p><p name="1b53" id="1b53" class="graf graf--p graf-after--p">As previously mentioned, the Shadow DOM allows a component author to create a sub-DOM tree. When creating a vanilla Web Component you’d typically do something like this:</p><pre name="68a0" id="68a0" class="graf graf--pre graf-after--p">class<strong class="markup--strong markup--pre-strong"> </strong>MyWebComponent extends<strong class="markup--strong markup--pre-strong"> </strong>HTMLElement {<br>    constructor() {<br>        super();<br>        <strong class="markup--strong markup--pre-strong">this.attachShadow({ mode: &quot;open&quot; });</strong><br>    }<br>    connectedCallback() {<br>        <strong class="markup--strong markup--pre-strong">this.shadowRoot</strong>.innerHTML = `<br>            &lt;p&gt;I&#39;m in the Shadow Root!&lt;/p&gt;<br>        `;<br>    }<br>}<br><br>window.customElements.define(&quot;my-web-component&quot;, MyWebComponent);</pre><p name="a89a" id="a89a" class="graf graf--p graf-after--pre">In the constructor we’re using the <code class="markup--code markup--p-code">attachShadow</code> method to create an <code class="markup--code markup--p-code">open</code> Shadow Root for the Custom Element. We are then able to access the newly created shadow root via the <code class="markup--code markup--p-code">shadowRoot</code> property on the element instance. We can interact with the shadow root just like we would any DOM tree. For example we could use:</p><pre name="8fcc" id="8fcc" class="graf graf--pre graf-after--p">this.shadowRoot.querySelector(&quot;p&quot;);</pre><p name="4ca0" id="4ca0" class="graf graf--p graf-after--pre">To query for any paragraph elements in the shadow root.</p><p name="8566" id="8566" class="graf graf--p graf-after--p">We could also use <code class="markup--code markup--p-code">appendChild</code> to add a new element into the Shadow Root, or in the example above we are just using <code class="markup--code markup--p-code">innerHTML</code> to stamp an initial template.</p><p name="80e6" id="80e6" class="graf graf--p graf-after--p">If we add this Custom Element to a document and open Chrome Dev Tools, we’ll get something like this:</p><figure name="f888" id="f888" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 408px; max-height: 245px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 60%;"></div><div class="progressiveMedia js-progressiveMedia graf-image" data-image-id="1*T6yPk-7peeXk4NhkFt_Vvg.png" data-width="408" data-height="245"><img src="https://cdn-images-1.medium.com/freeze/max/38/1*T6yPk-7peeXk4NhkFt_Vvg.png?q=20" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1000/1*T6yPk-7peeXk4NhkFt_Vvg.png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1000/1*T6yPk-7peeXk4NhkFt_Vvg.png"></noscript></div></div><figcaption class="imageCaption">Shadow Root in Chrome Dev Tools</figcaption></figure><p name="8026" id="8026" class="graf graf--p graf-after--figure">We can see the element has an open Shadow Root with the paragraph element within. But what does this get us?</p><p name="5820" id="5820" class="graf graf--p graf-after--p">Because we have added the component template to a sub-DOM tree we get a certain level of encapsulation. If we added the following CSS to the main document head:</p><pre name="46b5" id="46b5" class="graf graf--pre graf-after--p">&lt;head&gt;<br>    &lt;meta charset=&quot;UTF-8&quot;&gt;<br>    &lt;title&gt;Blog Post&lt;/title&gt;<br>    &lt;script src=&quot;open-vs-closed.js&quot;&gt;&lt;/script&gt;<br>    &lt;style&gt;<br>        p {<br>            color: red;<br>        }<br>    &lt;/style&gt;<br>&lt;/head&gt;</pre><p name="b2fb" id="b2fb" class="graf graf--p graf-after--pre">Because the paragraph element within our component is in the Shadow Root it won’t inherit this style.</p><figure name="6c55" id="6c55" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 616px; max-height: 508px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 82.5%;"></div><div class="progressiveMedia js-progressiveMedia graf-image" data-image-id="1*yzZe0-UV716LT4jh3Wn7aQ.png" data-width="616" data-height="508" data-is-featured="true"><img src="https://cdn-images-1.medium.com/freeze/max/38/1*yzZe0-UV716LT4jh3Wn7aQ.png?q=20" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1000/1*yzZe0-UV716LT4jh3Wn7aQ.png"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1000/1*yzZe0-UV716LT4jh3Wn7aQ.png"></noscript></div></div></figure><p name="9daa" id="9daa" class="graf graf--p graf-after--figure">Additionally if we executed the following JavaScript on the main document object:</p><pre name="2d01" id="2d01" class="graf graf--pre graf-after--p">document.querySelector(&quot;p&quot;) // null</pre><p name="e8d3" id="e8d3" class="graf graf--p graf-after--pre">The result would be <code class="markup--code markup--p-code">null</code> because the Shadow Root won’t be queried providing the desired encapsulation.</p><p name="881c" id="881c" class="graf graf--p graf-after--p">With these simple concepts component authors can create an encapsulated context for their component ensuring they have control over the style and can be confident that ambient JavaScript won’t accidentally break their component.</p><p name="1b56" id="1b56" class="graf graf--p graf-after--p">The Shadow DOM has many more features to offer, if you’d like to learn more I’d recommend reading <a href="https://developers.google.com/web/fundamentals/getting-started/primers/shadowdom" data-href="https://developers.google.com/web/fundamentals/getting-started/primers/shadowdom" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Shadow DOM v1: Self-Contained Web Components</a>.</p><h3 name="c4b1" id="c4b1" class="graf graf--h3 graf-after--p">Open Mode</h3><p name="190d" id="190d" class="graf graf--p graf-after--h3">Now we are clear on how the Shadow DOM works in terms of its encapsulation we can move on to look at the differences between the open and closed modes.</p><p name="9042" id="9042" class="graf graf--p graf-after--p">The above example used the <code class="markup--code markup--p-code">open</code> mode which offers a decent level of encapsulation already, so what could closed mode possibility provide in addition? Not much actually.</p><p name="739e" id="739e" class="graf graf--p graf-after--p">When you create an <code class="markup--code markup--p-code">open</code> Shadow Root with <code class="markup--code markup--p-code">this.attachShadow({ mode: “open” })</code> as we saw in the above examples you are then able to use the <code class="markup--code markup--p-code">shadowRoot</code> property to access the encapsulated sub-DOM tree.</p><p name="e541" id="e541" class="graf graf--p graf-after--p">In the example above we did this from within the Custom Element class definition in the <code class="markup--code markup--p-code">connectedCallback</code>. The <code class="markup--code markup--p-code">shadowRoot</code> is available on the element instance so we can just as easily access it externally from the main application.</p><pre name="39a3" id="39a3" class="graf graf--pre graf-after--p">const $myWebComponent = document.querySelector(&quot;my-web-component&quot;);<br>$myWebComponent.shadowRoot.querySelector(&quot;p&quot;).innerText = &quot;Modified!&quot;;</pre><figure name="568d" id="568d" class="graf graf--figure graf-after--pre"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 345px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 49.3%;"></div><div class="progressiveMedia js-progressiveMedia graf-image" data-image-id="1*rC7I8OK8ZbTKh7VtzU02yA.gif" data-width="920" data-height="454" data-action="zoom" data-action-value="1*rC7I8OK8ZbTKh7VtzU02yA.gif"><img src="https://cdn-images-1.medium.com/freeze/max/38/1*rC7I8OK8ZbTKh7VtzU02yA.gif?q=20" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1000/1*rC7I8OK8ZbTKh7VtzU02yA.gif"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1000/1*rC7I8OK8ZbTKh7VtzU02yA.gif"></noscript></div></div><figcaption class="imageCaption">With open mode a components Shadow Root is easy to update externally</figcaption></figure><h3 name="f82a" id="f82a" class="graf graf--h3 graf-after--figure">Closed Mode</h3><p name="bd09" id="bd09" class="graf graf--p graf-after--h3">The <code class="markup--code markup--p-code">closed</code> mode of Shadow DOM is an interesting feature in that it is the cause of confusion for users while offering very little in return.</p><p name="afcc" id="afcc" class="graf graf--p graf-after--p">The <code class="markup--code markup--p-code">closed</code> mode of Shadow DOM provides the same encapsulation as the open mode but additionally allows the component author to hide access to the ShadowRoot, but not really — let me explain.</p><p name="427f" id="427f" class="graf graf--p graf-after--p">As we’ve just seen with <code class="markup--code markup--p-code">open</code> mode, once <code class="markup--code markup--p-code">attachShadow </code>has been called a reference to the elements shadow root is available on the <code class="markup--code markup--p-code">shadowRoot</code> property. This is not the case with <code class="markup--code markup--p-code">closed</code> mode: you’ll find that attachShadow returns <code class="markup--code markup--p-code">null</code>.</p><pre name="0ea9" id="0ea9" class="graf graf--pre graf-after--p">let $element = document.createElement(&quot;div&quot;);<br>$element.attachShadow({ mode: &quot;closed&quot; });<br>$element.shadowRoot // null</pre><figure name="65ee" id="65ee" class="graf graf--figure graf-after--pre"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 209px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 29.799999999999997%;"></div><div class="progressiveMedia js-progressiveMedia graf-image" data-image-id="1*W2QO5RD3HXeiSloHDQIs1g.gif" data-width="764" data-height="228" data-action="zoom" data-action-value="1*W2QO5RD3HXeiSloHDQIs1g.gif"><img src="https://cdn-images-1.medium.com/freeze/max/38/1*W2QO5RD3HXeiSloHDQIs1g.gif?q=20" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1000/1*W2QO5RD3HXeiSloHDQIs1g.gif"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1000/1*W2QO5RD3HXeiSloHDQIs1g.gif"></noscript></div></div><figcaption class="imageCaption">The shadowRoot property always returns null if using closed mode of Shadow DOM</figcaption></figure><h4 name="bb94" id="bb94" class="graf graf--h4 graf-after--figure">So what does this mean for Web Components?</h4><p name="7428" id="7428" class="graf graf--p graf-after--h4">Because you can’t use the <code class="markup--code markup--p-code">shadowRoot</code> property to access and manipulate the Shadow Root of the element you’ll need to manually store a reference to the Shadow Root yourself.</p><pre name="1a5c" id="1a5c" class="graf graf--pre graf-after--p">class MyWebComponent extends HTMLElement {<br>    constructor() {<br>        super();<br>        <strong class="markup--strong markup--pre-strong">this._root = this.attachShadow({ mode: &quot;closed&quot; });</strong><br>    }<br>    connectedCallback() {<br>        <strong class="markup--strong markup--pre-strong">this._root</strong>.innerHTML = `<br>            &lt;p&gt;I&#39;m in the closed Shadow Root!&lt;/p&gt;<br>        `;<br>    }<br>}</pre><pre name="76d4" id="76d4" class="graf graf--pre graf-after--pre">window.customElements.define(&quot;my-web-component&quot;, MyWebComponent);</pre><p name="18c0" id="18c0" class="graf graf--p graf-after--pre">The only difference here is that the component author has control over how the Shadow Root is exposed on the element:</p><pre name="1c72" id="1c72" class="graf graf--pre graf-after--p">const $myWebComponent = document.querySelector(&quot;my-web-component&quot;);<br>$myWebComponent.shadowRoot // null<br>$myWebComponent._root // shadow-root (closed)</pre><p name="77a7" id="77a7" class="graf graf--p graf-after--pre">This might be considered a benefit as in JavaScript, good developer etiquette dictates that a variable prefixed with an underscore “should be left well alone”. But there is nothing really stopping anyone doing the following given the above example.</p><pre name="71a0" id="71a0" class="graf graf--pre graf-after--p">const $myWebComponent = document.querySelector(&quot;my-web-component&quot;);<br>$myWebComponent._root.querySelector(&quot;p&quot;).innerText = &quot;Modified!&quot;;</pre><figure name="a3c8" id="a3c8" class="graf graf--figure graf-after--pre"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 366px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 52.300000000000004%;"></div><div class="progressiveMedia js-progressiveMedia graf-image" data-image-id="1*9pHh0fLdwrwQdDF_EXAWQA.gif" data-width="968" data-height="506" data-action="zoom" data-action-value="1*9pHh0fLdwrwQdDF_EXAWQA.gif"><img src="https://cdn-images-1.medium.com/freeze/max/38/1*9pHh0fLdwrwQdDF_EXAWQA.gif?q=20" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1000/1*9pHh0fLdwrwQdDF_EXAWQA.gif"><noscript class="js-progressiveMedia-inner"><img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1000/1*9pHh0fLdwrwQdDF_EXAWQA.gif"></noscript></div></div><figcaption class="imageCaption">The so called “private” variable ain’t stopping nobody</figcaption></figure><p name="072f" id="072f" class="graf graf--p graf-after--figure">Of course you could take it one step further and wrap the Custom Element definition in a closure to prevent the reference to the Shadow Root from being accessible:</p><pre name="2df6" id="2df6" class="graf graf--pre graf-after--p">(function(){<br>    <strong class="markup--strong markup--pre-strong">const _shadows = new WeakMap();</strong><br>    class MyWebComponent extends HTMLElement {<br>        constructor() {<br>            super();<br>            <strong class="markup--strong markup--pre-strong">_shadows.set(this, this.attachShadow({ mode: &quot;closed&quot; }));</strong><br>        }<br>        connectedCallback() {<br>            <strong class="markup--strong markup--pre-strong">_shadows.get(this).</strong>innerHTML = `<br>            &lt;p&gt;I&#39;m in the closed Shadow Root!&lt;/p&gt;<br>        `;<br>        }<br>    }<br><br>    window.customElements.define(&quot;my-web-component&quot;, MyWebComponent);<br>})();</pre><p name="85ef" id="85ef" class="graf graf--p graf-after--pre">But really there is nothing stopping someone executing the following JavaScript before your component definition.</p><pre name="9afe" id="9afe" class="graf graf--pre graf-after--p">Element.prototype._attachShadow = Element.prototype.attachShadow;<br>Element.prototype.attachShadow = function<strong class="markup--strong markup--pre-strong"> </strong>() {<br>    return this._attachShadow( { mode: &quot;open&quot; } );<br>};</pre><p name="b564" id="b564" class="graf graf--p graf-after--pre">This will hijack the native <code class="markup--code markup--p-code">attachShadow</code> method and force every <code class="markup--code markup--p-code">attachShadow</code> call to always create an open Shadow Root — leaving your supposedly closed Shadow Root open for manipulation.</p><h3 name="8060" id="8060" class="graf graf--h3 graf-after--p">Conclusion</h3><p name="5f44" id="5f44" class="graf graf--p graf-after--h3">The <code class="markup--code markup--p-code">closed</code> mode of Shadow DOM has a single benefit which is to provide component authors with control over how the Shadow Root of their component is exposed (if at all) to the outside world.</p><p name="1907" id="1907" class="graf graf--p graf-after--p">Given that it’s incredibly easy to work around paranoid component authors hiding their Shadow Roots its <strong class="markup--strong markup--p-strong">probably not worth the effort</strong>.</p><p name="cf5b" id="cf5b" class="graf graf--p graf-after--p graf--trailing">I’d be very interested to hear other developers views on this subject so please leave a comment or find me on Twitter <a href="https://twitter.com/revillweb" data-href="https://twitter.com/revillweb" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">@RevillWeb</a>.</p></div></div></section></div><footer class="u-paddingTop10"><div class="container u-maxWidth740"><div class="row"><div class="col u-size12of12"></div></div><div class="row"><div class="col u-size12of12 js-postTags"><div class="u-paddingBottom10"><ul class="tags tags--postTags tags--borderless"><li><a class="link u-baseColor--link"   href="https://blog.revillweb.com/tagged/javascript?source=post" data-action-source="post" data-collection-slug="revillweb">JavaScript</a></li><li><a class="link u-baseColor--link"   href="https://blog.revillweb.com/tagged/web-development?source=post" data-action-source="post" data-collection-slug="revillweb">Web Development</a></li><li><a class="link u-baseColor--link"   href="https://blog.revillweb.com/tagged/web-components?source=post" data-action-source="post" data-collection-slug="revillweb">Web Components</a></li><li><a class="link u-baseColor--link"   href="https://blog.revillweb.com/tagged/shadow-dom?source=post" data-action-source="post" data-collection-slug="revillweb">Shadow Dom</a></li><li><a class="link u-baseColor--link"   href="https://blog.revillweb.com/tagged/custom-elements?source=post" data-action-source="post" data-collection-slug="revillweb">Custom Elements</a></li></ul></div></div></div><section class="uiScale uiScale-ui--small uiScale-caption--regular u-borderTopLightest u-marginTop10 u-paddingTop20"><div class="ui-h3 u-textColorDarker u-fontSize22">Like what you read? Give Leon Revill a round of applause.</div><p class="ui-body u-marginBottom20 u-textColorDark u-fontSize16">From a quick cheer to a standing ovation, clap to show how much you enjoyed this story.</p></section><div class="postActions js-postActionsFooter"><div class="u-flexCenter"><div class="u-flex1"><div class="multirecommend js-actionMultirecommend u-flexCenter u-width60" data-post-id="9f3d7427d1af" data-is-icon-29px="true" data-is-circle="true" data-has-recommend-list="true" data-source="post_actions_footer-----9f3d7427d1af---------------------clap_footer"><div class="u-relative u-foreground"><button class="button button--large button--circle button--withChrome u-baseColor--buttonNormal button--withIcon button--withSvgIcon clapButton js-actionMultirecommendButton clapButton--largePill u-relative u-foreground u-xs-paddingLeft13 u-width60 u-height60 u-accentColor--textNormal u-accentColor--buttonNormal clap-onboardingcollection"  data-action="sign-up-prompt" data-sign-in-action="multivote" data-requires-token="true" data-redirect="https://medium.com/_/vote/p/9f3d7427d1af" data-action-source="post_actions_footer-----9f3d7427d1af---------------------clap_footer" aria-label="Clap"><span class="button-defaultState"><span class="svgIcon svgIcon--clap svgIcon--33px u-relative u-topNegative2 u-xs-top0"><svg class="svgIcon-use" width="33" height="33" viewBox="0 0 33 33" ><path d="M28.86 17.342l-3.64-6.402c-.292-.433-.712-.729-1.163-.8a1.124 1.124 0 0 0-.889.213c-.63.488-.742 1.181-.33 2.061l1.222 2.587 1.4 2.46c2.234 4.085 1.511 8.007-2.145 11.663-.26.26-.526.49-.797.707 1.42-.084 2.881-.683 4.292-2.094 3.822-3.823 3.565-7.876 2.05-10.395zm-6.252 11.075c3.352-3.35 3.998-6.775 1.978-10.469l-3.378-5.945c-.292-.432-.712-.728-1.163-.8a1.122 1.122 0 0 0-.89.213c-.63.49-.742 1.182-.33 2.061l1.72 3.638a.502.502 0 0 1-.806.568l-8.91-8.91a1.335 1.335 0 0 0-1.887 1.886l5.292 5.292a.5.5 0 0 1-.707.707l-5.292-5.292-1.492-1.492c-.503-.503-1.382-.505-1.887 0a1.337 1.337 0 0 0 0 1.886l1.493 1.492 5.292 5.292a.499.499 0 0 1-.353.854.5.5 0 0 1-.354-.147L5.642 13.96a1.338 1.338 0 0 0-1.887 0 1.338 1.338 0 0 0 0 1.887l2.23 2.228 3.322 3.324a.499.499 0 0 1-.353.853.502.502 0 0 1-.354-.146l-3.323-3.324a1.333 1.333 0 0 0-1.886 0 1.325 1.325 0 0 0-.39.943c0 .356.138.691.39.943l6.396 6.397c3.528 3.53 8.86 5.313 12.821 1.353zM12.73 9.26l5.68 5.68-.49-1.037c-.518-1.107-.426-2.13.224-2.89l-3.303-3.304a1.337 1.337 0 0 0-1.886 0 1.326 1.326 0 0 0-.39.944c0 .217.067.42.165.607zm14.787 19.184c-1.599 1.6-3.417 2.392-5.353 2.392-.349 0-.7-.03-1.058-.082a7.922 7.922 0 0 1-3.667.887c-3.049 0-6.115-1.626-8.359-3.87l-6.396-6.397A2.315 2.315 0 0 1 2 19.724a2.327 2.327 0 0 1 1.923-2.296l-.875-.875a2.339 2.339 0 0 1 0-3.3 2.33 2.33 0 0 1 1.24-.647l-.139-.139c-.91-.91-.91-2.39 0-3.3.884-.884 2.421-.882 3.301 0l.138.14a2.335 2.335 0 0 1 3.948-1.24l.093.092c.091-.423.291-.828.62-1.157a2.336 2.336 0 0 1 3.3 0l3.384 3.386a2.167 2.167 0 0 1 1.271-.173c.534.086 1.03.354 1.441.765.11-.549.415-1.034.911-1.418a2.12 2.12 0 0 1 1.661-.41c.727.117 1.385.565 1.853 1.262l3.652 6.423c1.704 2.832 2.025 7.377-2.205 11.607zM13.217.484l-1.917.882 2.37 2.837-.454-3.719zm8.487.877l-1.928-.86-.44 3.697 2.368-2.837zM16.5 3.293L15.478-.005h2.044L16.5 3.293z" fill-rule="evenodd"/></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--clapFilled svgIcon--33px u-relative u-topNegative2 u-xs-top0"><svg class="svgIcon-use" width="33" height="33" viewBox="0 0 33 33" ><g fill-rule="evenodd"><path d="M29.58 17.1l-3.854-6.78c-.365-.543-.876-.899-1.431-.989a1.491 1.491 0 0 0-1.16.281c-.42.327-.65.736-.7 1.207v.001l3.623 6.367c2.46 4.498 1.67 8.802-2.333 12.807-.265.265-.536.505-.81.728 1.973-.222 3.474-1.286 4.45-2.263 4.166-4.165 3.875-8.6 2.215-11.36zm-4.831.82l-3.581-6.3c-.296-.439-.725-.742-1.183-.815a1.105 1.105 0 0 0-.89.213c-.647.502-.755 1.188-.33 2.098l1.825 3.858a.601.601 0 0 1-.197.747.596.596 0 0 1-.77-.067L10.178 8.21c-.508-.506-1.393-.506-1.901 0a1.335 1.335 0 0 0-.393.95c0 .36.139.698.393.95v.001l5.61 5.61a.599.599 0 1 1-.848.847l-5.606-5.606c-.001 0-.002 0-.003-.002L5.848 9.375a1.349 1.349 0 0 0-1.902 0 1.348 1.348 0 0 0 0 1.901l1.582 1.582 5.61 5.61a.6.6 0 0 1-.848.848l-5.61-5.61c-.51-.508-1.393-.508-1.9 0a1.332 1.332 0 0 0-.394.95c0 .36.139.697.393.952l2.363 2.362c.002.001.002.002.002.003l3.52 3.52a.6.6 0 0 1-.848.847l-3.522-3.523h-.001a1.336 1.336 0 0 0-.95-.393 1.345 1.345 0 0 0-.949 2.295l6.779 6.78c3.715 3.713 9.327 5.598 13.49 1.434 3.527-3.528 4.21-7.13 2.086-11.015zM11.817 7.727c.06-.328.213-.64.466-.893.64-.64 1.755-.64 2.396 0l3.232 3.232c-.82.783-1.09 1.833-.764 2.992l-5.33-5.33z"/><path d="M13.285.48l-1.916.881 2.37 2.837z"/><path d="M21.719 1.361L19.79.501l-.44 3.697z"/><path d="M16.502 3.298L15.481 0h2.043z"/></g></svg></span></span></button><div class="clapUndo u-width60 u-round u-height32 u-absolute u-borderBox u-paddingRight5 u-transition--transform200Spring u-background--brandSageLighter js-clapUndo" style="top: 14px; padding: 2px;"><button class="button button--chromeless u-baseColor--buttonNormal button--withIcon button--withSvgIcon u-floatRight"  data-action="multivote-undo" data-action-value="9f3d7427d1af"><span class="svgIcon svgIcon--removeThin svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M20.13 8.11l-5.61 5.61-5.609-5.61-.801.801 5.61 5.61-5.61 5.61.801.8 5.61-5.609 5.61 5.61.8-.801-5.609-5.61 5.61-5.61" fill-rule="evenodd"/></svg></span></button></div></div><span class="u-textAlignCenter u-relative u-background js-actionMultirecommendCount u-marginLeft10"><button class="button button--chromeless u-baseColor--buttonNormal js-multirecommendCountButton"  data-action="show-recommends" data-action-value="9f3d7427d1af">364</button></span></div></div><div class="buttonSet u-flex0"><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon"  data-action="scroll-to-responses" data-action-source="post_actions_footer"><span class="svgIcon svgIcon--response svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M21.27 20.058c1.89-1.826 2.754-4.17 2.754-6.674C24.024 8.21 19.67 4 14.1 4 8.53 4 4 8.21 4 13.384c0 5.175 4.53 9.385 10.1 9.385 1.007 0 2-.14 2.95-.41.285.25.592.49.918.7 1.306.87 2.716 1.31 4.19 1.31.276-.01.494-.14.6-.36a.625.625 0 0 0-.052-.65c-.61-.84-1.042-1.71-1.282-2.58a5.417 5.417 0 0 1-.154-.75zm-3.85 1.324l-.083-.28-.388.12a9.72 9.72 0 0 1-2.85.424c-4.96 0-8.99-3.706-8.99-8.262 0-4.556 4.03-8.263 8.99-8.263 4.95 0 8.77 3.71 8.77 8.27 0 2.25-.75 4.35-2.5 5.92l-.24.21v.32c0 .07 0 .19.02.37.03.29.1.6.19.92.19.7.49 1.4.89 2.08-.93-.14-1.83-.49-2.67-1.06-.34-.22-.88-.48-1.16-.74z"/></svg></span></button><button class="button button--chromeless u-baseColor--buttonNormal"  data-action="scroll-to-responses">10</button><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon u-xs-hide"  title="Share on Twitter" aria-label="Share on Twitter" data-action="share-on-twitter" data-action-source="post_actions_footer"><span class="svgIcon svgIcon--twitter svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M21.967 11.8c.018 5.93-4.607 11.18-11.177 11.18-2.172 0-4.25-.62-6.047-1.76l-.268.422-.038.5.186.013.168.012c.3.02.44.032.6.046 2.06-.026 3.95-.686 5.49-1.86l1.12-.85-1.4-.048c-1.57-.055-2.92-1.08-3.36-2.51l-.48.146-.05.5c.22.03.48.05.75.08.48-.02.87-.07 1.25-.15l2.33-.49-2.32-.49c-1.68-.35-2.91-1.83-2.91-3.55 0-.05 0-.01-.01.03l-.49-.1-.25.44c.63.36 1.35.57 2.07.58l1.7.04L7.4 13c-.978-.662-1.59-1.79-1.618-3.047a4.08 4.08 0 0 1 .524-1.8l-.825.07a12.188 12.188 0 0 0 8.81 4.515l.59.033-.06-.59v-.02c-.05-.43-.06-.63-.06-.87a3.617 3.617 0 0 1 6.27-2.45l.2.21.28-.06c1.01-.22 1.94-.59 2.73-1.09l-.75-.56c-.1.36-.04.89.12 1.36.23.68.58 1.13 1.17.85l-.21-.45-.42-.27c-.52.8-1.17 1.48-1.92 2L22 11l.016.28c.013.2.014.35 0 .52v.04zm.998.038c.018-.22.017-.417 0-.66l-.498.034.284.41a8.183 8.183 0 0 0 2.2-2.267l.97-1.48-1.6.755c.17-.08.3-.02.34.03a.914.914 0 0 1-.13-.292c-.1-.297-.13-.64-.1-.766l.36-1.254-1.1.695c-.69.438-1.51.764-2.41.963l.48.15a4.574 4.574 0 0 0-3.38-1.484 4.616 4.616 0 0 0-4.61 4.613c0 .29.02.51.08.984l.01.02.5-.06.03-.5c-3.17-.18-6.1-1.7-8.08-4.15l-.48-.56-.36.64c-.39.69-.62 1.48-.65 2.28.04 1.61.81 3.04 2.06 3.88l.3-.92c-.55-.02-1.11-.17-1.6-.45l-.59-.34-.14.67c-.02.08-.02.16 0 .24-.01 2.12 1.55 4.01 3.69 4.46l.1-.49-.1-.49c-.33.07-.67.12-1.03.14-.18-.02-.43-.05-.64-.07l-.76-.09.23.73c.57 1.84 2.29 3.14 4.28 3.21l-.28-.89a8.252 8.252 0 0 1-4.85 1.66c-.12-.01-.26-.02-.56-.05l-.17-.01-.18-.01L2.53 21l1.694 1.07a12.233 12.233 0 0 0 6.58 1.917c7.156 0 12.2-5.73 12.18-12.18l-.002.04z"/></svg></span></button><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon u-xs-hide"  title="Share on Facebook" aria-label="Share on Facebook" data-action="share-on-facebook" data-action-source="post_actions_footer"><span class="svgIcon svgIcon--facebook svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M16.39 23.61v-5.808h1.846a.55.55 0 0 0 .546-.48l.36-2.797a.551.551 0 0 0-.547-.62H16.39V12.67c0-.67.12-.813.828-.813h1.474a.55.55 0 0 0 .55-.55V8.803a.55.55 0 0 0-.477-.545c-.436-.06-1.36-.116-2.22-.116-2.5 0-4.13 1.62-4.13 4.248v1.513H10.56a.551.551 0 0 0-.55.55v2.797c0 .304.248.55.55.55h1.855v5.76c-4.172-.96-7.215-4.7-7.215-9.1 0-5.17 4.17-9.36 9.31-9.36 5.14 0 9.31 4.19 9.31 9.36 0 4.48-3.155 8.27-7.43 9.15M14.51 4C8.76 4 4.1 8.684 4.1 14.46c0 5.162 3.75 9.523 8.778 10.32a.55.55 0 0 0 .637-.543v-6.985a.551.551 0 0 0-.55-.55H11.11v-1.697h1.855a.55.55 0 0 0 .55-.55v-2.063c0-2.02 1.136-3.148 3.03-3.148.567 0 1.156.027 1.597.06v1.453h-.924c-1.363 0-1.93.675-1.93 1.912v1.78c0 .3.247.55.55.55h2.132l-.218 1.69H15.84c-.305 0-.55.24-.55.55v7.02c0 .33.293.59.623.54 5.135-.7 9.007-5.11 9.007-10.36C24.92 8.68 20.26 4 14.51 4"/></svg></span></button><button class="button button--large button--dark button--chromeless u-baseColor--buttonDark button--withIcon button--withSvgIcon u-xs-show"  title="Share this story on Twitter or Facebook" aria-label="Share this story on Twitter or Facebook" data-action="show-share-popover" data-action-source="post_actions_footer"><span class="svgIcon svgIcon--share svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M20.385 8H19a.5.5 0 1 0 .011 1h1.39c.43 0 .84.168 1.14.473.31.305.48.71.48 1.142v10.77c0 .43-.17.837-.47 1.142-.3.305-.71.473-1.14.473H8.62c-.43 0-.84-.168-1.144-.473a1.603 1.603 0 0 1-.473-1.142v-10.77c0-.43.17-.837.48-1.142A1.599 1.599 0 0 1 8.62 9H10a.502.502 0 0 0 0-1H8.615c-.67 0-1.338.255-1.85.766-.51.51-.765 1.18-.765 1.85v10.77c0 .668.255 1.337.766 1.848.51.51 1.18.766 1.85.766h11.77c.668 0 1.337-.255 1.848-.766.51-.51.766-1.18.766-1.85v-10.77c0-.668-.255-1.337-.766-1.848A2.61 2.61 0 0 0 20.384 8zm-8.67-2.508L14 3.207v8.362c0 .27.224.5.5.5s.5-.23.5-.5V3.2l2.285 2.285a.49.49 0 0 0 .704-.001.511.511 0 0 0 0-.708l-3.14-3.14a.504.504 0 0 0-.71 0L11 4.776a.501.501 0 0 0 .71.706" fill-rule="evenodd"/></svg></span></button></div></div></div></div><div class="u-maxWidth740 u-paddingTop20 u-marginTop20 u-borderTopLightest container u-paddingBottom20 u-xs-paddingBottom10 js-postAttributionFooterContainer"><div class="row js-postFooterInfo"><div class="col u-size6of12 u-xs-size12of12"><li class="uiScale uiScale-ui--small uiScale-caption--regular u-block u-paddingBottom18 js-cardUser"><div class="u-marginLeft20 u-floatRight"><span class="followState js-followState" data-user-id="e97ebf5b2bc"><button class="button button--small u-noUserSelect button--withChrome u-baseColor--buttonNormal button--withHover button--unblock js-unblockButton"  data-action="sign-up-prompt" data-sign-in-action="toggle-block-user" data-requires-token="true" data-redirect="https://blog.revillweb.com/open-vs-closed-shadow-dom-9f3d7427d1af" data-action-source="footer_card"><span class="button-label  button-defaultState">Blocked</span><span class="button-label button-hoverState">Unblock</span></button><button class="button button--primary button--small u-noUserSelect button--withChrome u-accentColor--buttonNormal button--follow js-followButton"  data-action="sign-up-prompt" data-sign-in-action="toggle-subscribe-user" data-requires-token="true" data-redirect="https://medium.com/_/subscribe/user/e97ebf5b2bc" data-action-source="footer_card-e97ebf5b2bc-------------------------follow_footer"><span class="button-label  button-defaultState js-buttonLabel">Follow</span><span class="button-label button-activeState">Following</span></button></span></div><div class="u-tableCell"><a class="link u-baseColor--link avatar"   href="https://blog.revillweb.com/@revillweb?source=footer_card" title="Go to the profile of Leon Revill" aria-label="Go to the profile of Leon Revill" data-action-source="footer_card" data-user-id="e97ebf5b2bc" data-collection-slug="revillweb" dir="auto"><img  src="https://cdn-images-1.medium.com/fit/c/75/75/0*FX9hLLN2cTVIyARD.jpeg" class="avatar-image avatar-image--small" alt="Go to the profile of Leon Revill"></a></div><div class="u-tableCell u-verticalAlignMiddle u-breakWord u-paddingLeft15"><h3 class="ui-h3 u-fontSize18 u-lineHeightTighter u-marginBottom4"><a class="link link--primary u-accentColor--hoverTextNormal"   href="https://blog.revillweb.com/@revillweb" property="cc:attributionName" title="Go to the profile of Leon Revill" aria-label="Go to the profile of Leon Revill" rel="author cc:attributionUrl" data-user-id="e97ebf5b2bc" data-collection-slug="revillweb" dir="auto">Leon Revill</a></h3><p class="ui-body u-fontSize14 u-lineHeightBaseSans u-textColorDark u-marginBottom4">Web architect, blogger &amp; author. Working hard to make awesome things for the web platform, mostly with web components.</p></div></li></div><div class="col u-size6of12 u-xs-size12of12 u-xs-marginTop30"><li class="uiScale uiScale-ui--small uiScale-caption--regular u-block u-paddingBottom18 js-cardCollection"><div class="u-marginLeft20 u-floatRight"><button class="button button--primary button--small u-noUserSelect button--withChrome u-accentColor--buttonNormal js-relationshipButton"  data-action="sign-up-prompt" data-sign-in-action="toggle-follow-collection" data-requires-token="true" data-redirect="https://medium.com/_/subscribe/collection/revillweb" data-action-source="----32ee5a45be0a----------------------follow_footer" data-collection-id="32ee5a45be0a"><span class="button-label  js-buttonLabel">Follow</span></button></div><div class="u-tableCell "><a class="link u-baseColor--link avatar avatar--roundedRectangle"   href="https://blog.revillweb.com?source=footer_card" title="Go to RevillWeb" aria-label="Go to RevillWeb" data-action-source="footer_card" data-collection-slug="revillweb"><img src="https://cdn-images-1.medium.com/fit/c/75/75/1*tnrd_FVMSgByauWwR89P3Q.png" class="avatar-image u-size60x60" alt="RevillWeb"></a></div><div class="u-tableCell u-verticalAlignMiddle u-breakWord u-paddingLeft15"><h3 class="ui-h3 u-fontSize18 u-lineHeightTighter u-marginBottom4"><a class="link link--primary u-accentColor--hoverTextNormal"   href="https://blog.revillweb.com?source=footer_card" rel="collection" data-action-source="footer_card" data-collection-slug="revillweb">RevillWeb</a></h3><p class="ui-body u-fontSize14 u-lineHeightBaseSans u-textColorDark u-marginBottom4">RevillWeb is a blog by Leon Revill a web architect who loves to share his discoveries. In this blog you will find a variety of web development articles and tutorials — mostly about web components.</p><div class="buttonSet"></div></div></li></div></div></div><div class="js-postFooterPlacements"></div><div class="u-padding0 u-clearfix u-backgroundGrayLightest u-print-hide supplementalPostContent js-responsesWrapper"></div><div class="supplementalPostContent js-heroPromo"></div></footer></article></main><aside class="u-marginAuto u-maxWidth1000 js-postLeftSidebar"><div class="u-foreground u-top0 u-transition--fadeOut300 u-fixed u-sm-hide u-marginLeftNegative12 js-postShareWidget"><ul><li class="u-textAlignCenter u-marginVertical10"><div class="multirecommend js-actionMultirecommend u-flexColumn u-marginBottom10 u-width60" data-post-id="9f3d7427d1af" data-is-icon-29px="true" data-is-vertical="true" data-is-circle="true" data-has-recommend-list="true" data-source="post_share_widget-----9f3d7427d1af---------------------clap_sidebar"><div class="u-relative u-foreground"><button class="button button--large button--circle button--withChrome u-baseColor--buttonNormal button--withIcon button--withSvgIcon clapButton js-actionMultirecommendButton clapButton--largePill u-relative u-foreground u-xs-paddingLeft13 u-width60 u-height60 u-accentColor--textNormal u-accentColor--buttonNormal"  data-action="sign-up-prompt" data-sign-in-action="multivote" data-requires-token="true" data-redirect="https://medium.com/_/vote/p/9f3d7427d1af" data-action-source="post_share_widget-----9f3d7427d1af---------------------clap_sidebar" aria-label="Clap"><span class="button-defaultState"><span class="svgIcon svgIcon--clap svgIcon--33px u-relative u-topNegative2 u-xs-top0"><svg class="svgIcon-use" width="33" height="33" viewBox="0 0 33 33" ><path d="M28.86 17.342l-3.64-6.402c-.292-.433-.712-.729-1.163-.8a1.124 1.124 0 0 0-.889.213c-.63.488-.742 1.181-.33 2.061l1.222 2.587 1.4 2.46c2.234 4.085 1.511 8.007-2.145 11.663-.26.26-.526.49-.797.707 1.42-.084 2.881-.683 4.292-2.094 3.822-3.823 3.565-7.876 2.05-10.395zm-6.252 11.075c3.352-3.35 3.998-6.775 1.978-10.469l-3.378-5.945c-.292-.432-.712-.728-1.163-.8a1.122 1.122 0 0 0-.89.213c-.63.49-.742 1.182-.33 2.061l1.72 3.638a.502.502 0 0 1-.806.568l-8.91-8.91a1.335 1.335 0 0 0-1.887 1.886l5.292 5.292a.5.5 0 0 1-.707.707l-5.292-5.292-1.492-1.492c-.503-.503-1.382-.505-1.887 0a1.337 1.337 0 0 0 0 1.886l1.493 1.492 5.292 5.292a.499.499 0 0 1-.353.854.5.5 0 0 1-.354-.147L5.642 13.96a1.338 1.338 0 0 0-1.887 0 1.338 1.338 0 0 0 0 1.887l2.23 2.228 3.322 3.324a.499.499 0 0 1-.353.853.502.502 0 0 1-.354-.146l-3.323-3.324a1.333 1.333 0 0 0-1.886 0 1.325 1.325 0 0 0-.39.943c0 .356.138.691.39.943l6.396 6.397c3.528 3.53 8.86 5.313 12.821 1.353zM12.73 9.26l5.68 5.68-.49-1.037c-.518-1.107-.426-2.13.224-2.89l-3.303-3.304a1.337 1.337 0 0 0-1.886 0 1.326 1.326 0 0 0-.39.944c0 .217.067.42.165.607zm14.787 19.184c-1.599 1.6-3.417 2.392-5.353 2.392-.349 0-.7-.03-1.058-.082a7.922 7.922 0 0 1-3.667.887c-3.049 0-6.115-1.626-8.359-3.87l-6.396-6.397A2.315 2.315 0 0 1 2 19.724a2.327 2.327 0 0 1 1.923-2.296l-.875-.875a2.339 2.339 0 0 1 0-3.3 2.33 2.33 0 0 1 1.24-.647l-.139-.139c-.91-.91-.91-2.39 0-3.3.884-.884 2.421-.882 3.301 0l.138.14a2.335 2.335 0 0 1 3.948-1.24l.093.092c.091-.423.291-.828.62-1.157a2.336 2.336 0 0 1 3.3 0l3.384 3.386a2.167 2.167 0 0 1 1.271-.173c.534.086 1.03.354 1.441.765.11-.549.415-1.034.911-1.418a2.12 2.12 0 0 1 1.661-.41c.727.117 1.385.565 1.853 1.262l3.652 6.423c1.704 2.832 2.025 7.377-2.205 11.607zM13.217.484l-1.917.882 2.37 2.837-.454-3.719zm8.487.877l-1.928-.86-.44 3.697 2.368-2.837zM16.5 3.293L15.478-.005h2.044L16.5 3.293z" fill-rule="evenodd"/></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--clapFilled svgIcon--33px u-relative u-topNegative2 u-xs-top0"><svg class="svgIcon-use" width="33" height="33" viewBox="0 0 33 33" ><g fill-rule="evenodd"><path d="M29.58 17.1l-3.854-6.78c-.365-.543-.876-.899-1.431-.989a1.491 1.491 0 0 0-1.16.281c-.42.327-.65.736-.7 1.207v.001l3.623 6.367c2.46 4.498 1.67 8.802-2.333 12.807-.265.265-.536.505-.81.728 1.973-.222 3.474-1.286 4.45-2.263 4.166-4.165 3.875-8.6 2.215-11.36zm-4.831.82l-3.581-6.3c-.296-.439-.725-.742-1.183-.815a1.105 1.105 0 0 0-.89.213c-.647.502-.755 1.188-.33 2.098l1.825 3.858a.601.601 0 0 1-.197.747.596.596 0 0 1-.77-.067L10.178 8.21c-.508-.506-1.393-.506-1.901 0a1.335 1.335 0 0 0-.393.95c0 .36.139.698.393.95v.001l5.61 5.61a.599.599 0 1 1-.848.847l-5.606-5.606c-.001 0-.002 0-.003-.002L5.848 9.375a1.349 1.349 0 0 0-1.902 0 1.348 1.348 0 0 0 0 1.901l1.582 1.582 5.61 5.61a.6.6 0 0 1-.848.848l-5.61-5.61c-.51-.508-1.393-.508-1.9 0a1.332 1.332 0 0 0-.394.95c0 .36.139.697.393.952l2.363 2.362c.002.001.002.002.002.003l3.52 3.52a.6.6 0 0 1-.848.847l-3.522-3.523h-.001a1.336 1.336 0 0 0-.95-.393 1.345 1.345 0 0 0-.949 2.295l6.779 6.78c3.715 3.713 9.327 5.598 13.49 1.434 3.527-3.528 4.21-7.13 2.086-11.015zM11.817 7.727c.06-.328.213-.64.466-.893.64-.64 1.755-.64 2.396 0l3.232 3.232c-.82.783-1.09 1.833-.764 2.992l-5.33-5.33z"/><path d="M13.285.48l-1.916.881 2.37 2.837z"/><path d="M21.719 1.361L19.79.501l-.44 3.697z"/><path d="M16.502 3.298L15.481 0h2.043z"/></g></svg></span></span></button><div class="clapUndo u-width60 u-round u-height32 u-absolute u-borderBox u-paddingRight5 u-transition--transform200Spring u-background--brandSageLighter js-clapUndo" style="top: 14px; padding: 2px;"><button class="button button--chromeless u-baseColor--buttonNormal button--withIcon button--withSvgIcon u-floatRight"  data-action="multivote-undo" data-action-value="9f3d7427d1af"><span class="svgIcon svgIcon--removeThin svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M20.13 8.11l-5.61 5.61-5.609-5.61-.801.801 5.61 5.61-5.61 5.61.801.8 5.61-5.609 5.61 5.61.8-.801-5.609-5.61 5.61-5.61" fill-rule="evenodd"/></svg></span></button></div></div><span class="u-textAlignCenter u-relative u-background js-actionMultirecommendCount u-flexOrderNegative1 u-height20 u-marginBottom7"><button class="button button--chromeless u-baseColor--buttonNormal js-multirecommendCountButton u-block u-marginAuto"  data-action="show-recommends" data-action-value="9f3d7427d1af">364</button></span></div></li><li class="u-textAlignCenter u-marginVertical10"><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon"  title="Share on Twitter" aria-label="Share on Twitter" data-action="share-on-twitter" data-action-source="post_share_widget"><span class="svgIcon svgIcon--twitter svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M21.967 11.8c.018 5.93-4.607 11.18-11.177 11.18-2.172 0-4.25-.62-6.047-1.76l-.268.422-.038.5.186.013.168.012c.3.02.44.032.6.046 2.06-.026 3.95-.686 5.49-1.86l1.12-.85-1.4-.048c-1.57-.055-2.92-1.08-3.36-2.51l-.48.146-.05.5c.22.03.48.05.75.08.48-.02.87-.07 1.25-.15l2.33-.49-2.32-.49c-1.68-.35-2.91-1.83-2.91-3.55 0-.05 0-.01-.01.03l-.49-.1-.25.44c.63.36 1.35.57 2.07.58l1.7.04L7.4 13c-.978-.662-1.59-1.79-1.618-3.047a4.08 4.08 0 0 1 .524-1.8l-.825.07a12.188 12.188 0 0 0 8.81 4.515l.59.033-.06-.59v-.02c-.05-.43-.06-.63-.06-.87a3.617 3.617 0 0 1 6.27-2.45l.2.21.28-.06c1.01-.22 1.94-.59 2.73-1.09l-.75-.56c-.1.36-.04.89.12 1.36.23.68.58 1.13 1.17.85l-.21-.45-.42-.27c-.52.8-1.17 1.48-1.92 2L22 11l.016.28c.013.2.014.35 0 .52v.04zm.998.038c.018-.22.017-.417 0-.66l-.498.034.284.41a8.183 8.183 0 0 0 2.2-2.267l.97-1.48-1.6.755c.17-.08.3-.02.34.03a.914.914 0 0 1-.13-.292c-.1-.297-.13-.64-.1-.766l.36-1.254-1.1.695c-.69.438-1.51.764-2.41.963l.48.15a4.574 4.574 0 0 0-3.38-1.484 4.616 4.616 0 0 0-4.61 4.613c0 .29.02.51.08.984l.01.02.5-.06.03-.5c-3.17-.18-6.1-1.7-8.08-4.15l-.48-.56-.36.64c-.39.69-.62 1.48-.65 2.28.04 1.61.81 3.04 2.06 3.88l.3-.92c-.55-.02-1.11-.17-1.6-.45l-.59-.34-.14.67c-.02.08-.02.16 0 .24-.01 2.12 1.55 4.01 3.69 4.46l.1-.49-.1-.49c-.33.07-.67.12-1.03.14-.18-.02-.43-.05-.64-.07l-.76-.09.23.73c.57 1.84 2.29 3.14 4.28 3.21l-.28-.89a8.252 8.252 0 0 1-4.85 1.66c-.12-.01-.26-.02-.56-.05l-.17-.01-.18-.01L2.53 21l1.694 1.07a12.233 12.233 0 0 0 6.58 1.917c7.156 0 12.2-5.73 12.18-12.18l-.002.04z"/></svg></span></button></li><li class="u-textAlignCenter u-marginVertical10"><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon"  title="Share on Facebook" aria-label="Share on Facebook" data-action="share-on-facebook" data-action-source="post_share_widget"><span class="svgIcon svgIcon--facebook svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M16.39 23.61v-5.808h1.846a.55.55 0 0 0 .546-.48l.36-2.797a.551.551 0 0 0-.547-.62H16.39V12.67c0-.67.12-.813.828-.813h1.474a.55.55 0 0 0 .55-.55V8.803a.55.55 0 0 0-.477-.545c-.436-.06-1.36-.116-2.22-.116-2.5 0-4.13 1.62-4.13 4.248v1.513H10.56a.551.551 0 0 0-.55.55v2.797c0 .304.248.55.55.55h1.855v5.76c-4.172-.96-7.215-4.7-7.215-9.1 0-5.17 4.17-9.36 9.31-9.36 5.14 0 9.31 4.19 9.31 9.36 0 4.48-3.155 8.27-7.43 9.15M14.51 4C8.76 4 4.1 8.684 4.1 14.46c0 5.162 3.75 9.523 8.778 10.32a.55.55 0 0 0 .637-.543v-6.985a.551.551 0 0 0-.55-.55H11.11v-1.697h1.855a.55.55 0 0 0 .55-.55v-2.063c0-2.02 1.136-3.148 3.03-3.148.567 0 1.156.027 1.597.06v1.453h-.924c-1.363 0-1.93.675-1.93 1.912v1.78c0 .3.247.55.55.55h2.132l-.218 1.69H15.84c-.305 0-.55.24-.55.55v7.02c0 .33.293.59.623.54 5.135-.7 9.007-5.11 9.007-10.36C24.92 8.68 20.26 4 14.51 4"/></svg></span></button></li><li class="u-textAlignCenter u-marginVertical10"><button class="button button--large button--dark button--chromeless is-touchIconFadeInPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon button--bookmark js-bookmarkButton"  title="Bookmark this story to read later" aria-label="Bookmark this story to read later" data-action="sign-up-prompt" data-sign-in-action="add-to-bookmarks" data-requires-token="true" data-redirect="https://medium.com/_/bookmark/p/9f3d7427d1af" data-action-source="post_share_widget-----9f3d7427d1af---------------------bookmark_sidebar"><span class="button-defaultState"><span class="svgIcon svgIcon--bookmark svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M19.385 4h-9.77A2.623 2.623 0 0 0 7 6.615V23.01a1.022 1.022 0 0 0 1.595.847l5.905-4.004 5.905 4.004A1.022 1.022 0 0 0 22 23.011V6.62A2.625 2.625 0 0 0 19.385 4zM21 23l-5.91-3.955-.148-.107a.751.751 0 0 0-.884 0l-.147.107L8 23V6.615C8 5.725 8.725 5 9.615 5h9.77C20.275 5 21 5.725 21 6.615V23z" fill-rule="evenodd"/></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--bookmarkFilled svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M19.385 4h-9.77A2.623 2.623 0 0 0 7 6.615V23.01a1.022 1.022 0 0 0 1.595.847l5.905-4.004 5.905 4.004A1.022 1.022 0 0 0 22 23.011V6.62A2.625 2.625 0 0 0 19.385 4z" fill-rule="evenodd"/></svg></span></span></button></li></ul></div></aside><div class="u-fixed u-bottom0 u-sizeFullWidth u-backgroundWhite u-boxShadowTop u-borderBox u-paddingTop10 u-paddingBottom10 u-zIndexMetabar u-xs-paddingLeft10 u-xs-paddingRight10 js-stickyFooter"><div class="u-maxWidth700 u-marginAuto u-flexCenter"><div class="u-fontSize16 u-flex1 u-flexCenter"><div class="u-flex0 u-inlineBlock u-paddingRight20 u-xs-paddingRight10"><a class="link u-baseColor--link avatar avatar--roundedRectangle"   href="https://blog.revillweb.com" title="Go to RevillWeb" aria-label="Go to RevillWeb" data-collection-slug="revillweb"><img src="https://cdn-images-1.medium.com/fit/c/50/50/1*tnrd_FVMSgByauWwR89P3Q.png" class="avatar-image avatar-image--smaller" alt="RevillWeb"></a></div><div class="u-flex1 u-inlineBlock"><div class="u-xs-hide">Never miss a story from<strong> RevillWeb</strong>, when you sign up for Medium. <a class="link u-baseColor--link link--accent u-accentColor--textNormal u-accentColor--textDarken"   href="https://medium.com/@Medium/personalize-your-medium-experience-with-users-publications-tags-26a41ab1ee0c#.hx4zuv3mg" data-action-source="sticky_footer">Learn more</a></div><div class="u-xs-show">Never miss a story from<strong> RevillWeb</strong></div></div></div><div class="u-marginLeft50 u-xs-marginAuto"><button class="button button--primary button--dark is-active u-noUserSelect button--withChrome u-accentColor--buttonDark u-uiTextSemibold u-textUppercase u-fontSize12 button--followCollection js-followCollectionButton"  data-action="sign-up-prompt" data-sign-in-action="toggle-subscribe-collection" data-requires-token="true" data-redirect="https://medium.com/_/subscribe/collection/revillweb" data-action-source="sticky_footer----32ee5a45be0a----------------------follow_metabar"><span class="button-label  button-defaultState js-buttonLabel">Get updates</span><span class="button-label button-activeState">Get updates</span></button></div></div></div><style class="js-collectionStyle">
.u-accentColor--borderLight {border-color: #7B85A1 !important;}
.u-accentColor--borderNormal {border-color: #7B85A1 !important;}
.u-accentColor--borderDark {border-color: #6A7289 !important;}
.u-accentColor--iconLight .svgIcon,.u-accentColor--iconLight.svgIcon {fill: #7B85A1 !important;}
.u-accentColor--iconNormal .svgIcon,.u-accentColor--iconNormal.svgIcon {fill: #7B85A1 !important;}
.u-accentColor--iconDark .svgIcon,.u-accentColor--iconDark.svgIcon {fill: #6A7289 !important;}
.u-accentColor--textNormal {color: #6A7289 !important;}
.u-accentColor--hoverTextNormal:hover {color: #6A7289 !important;}
.u-accentColor--textNormal.u-accentColor--textDarken:hover {color: #61687D !important;}
.u-accentColor--textDark {color: #61687D !important;}
.u-accentColor--backgroundLight {background-color: #7B85A1 !important;}
.u-accentColor--backgroundNormal {background-color: #7B85A1 !important;}
.u-accentColor--backgroundDark {background-color: #6A7289 !important;}
.u-accentColor--buttonDark {border-color: #6A7289 !important; color: #61687D !important;}
.u-accentColor--buttonDark:hover {border-color: #61687D !important;}
.u-accentColor--buttonDark .icon:before,.u-accentColor--buttonDark .svgIcon{color: #6A7289 !important; fill: #6A7289 !important;}
.u-accentColor--buttonNormal:not(.clapButton--largePill) {border-color: #7B85A1 !important; color: #6A7289 !important;}
.u-accentColor--buttonNormal:hover {border-color: #6A7289 !important;}
.u-accentColor--buttonNormal .icon:before,.u-accentColor--buttonNormal .svgIcon{color: #7B85A1 !important; fill: #7B85A1 !important;}
.u-accentColor--buttonNormal.button--filled .icon:before,.u-accentColor--buttonNormal.button--filled .svgIcon{color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-accentColor--buttonDark.button--filled,.u-accentColor--buttonDark.button--withChrome.is-active,.u-accentColor--fillWhenActive.is-active {background-color: #6A7289 !important; border-color: #6A7289 !important; color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-accentColor--buttonNormal.button--filled:not(.clapButton--largePill),.u-accentColor--buttonNormal.button--withChrome.is-active:not(.clapButton--largePill) {background-color: #7B85A1 !important; border-color: #7B85A1 !important; color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.postArticle.is-withAccentColors .markup--user,.postArticle.is-withAccentColors .markup--query {color: #6A7289 !important;}.u-tintBgColor {background-color: rgba(13, 21, 45, 1) !important;}.u-tintBgColor .u-fadeLeft:before {background-image: linear-gradient(to right, rgba(13, 21, 45, 1) 0%, rgba(13, 21, 45, 0) 100%) !important;}.u-tintBgColor .u-fadeRight:after {background-image: linear-gradient(to right, rgba(13, 21, 45, 0) 0%, rgba(13, 21, 45, 1) 100%) !important;}
.u-tintSpectrum .u-baseColor--borderLight {border-color: #9095A6 !important;}
.u-tintSpectrum .u-baseColor--borderNormal {border-color: #BBBECB !important;}
.u-tintSpectrum .u-baseColor--borderDark {border-color: #E4E5EE !important;}
.u-tintSpectrum .u-baseColor--iconLight .svgIcon,.u-tintSpectrum .u-baseColor--iconLight.svgIcon {fill: #9095A6 !important;}
.u-tintSpectrum .u-baseColor--iconNormal .svgIcon,.u-tintSpectrum .u-baseColor--iconNormal.svgIcon {fill: #BBBECB !important;}
.u-tintSpectrum .u-baseColor--iconDark .svgIcon,.u-tintSpectrum .u-baseColor--iconDark.svgIcon {fill: #E4E5EE !important;}
.u-tintSpectrum .u-baseColor--textNormal {color: #BBBECB !important;}
.u-tintSpectrum .u-baseColor--textNormal.u-baseColor--textDarken:hover {color: #F8F8FE !important;}
.u-tintSpectrum .u-baseColor--textDark {color: #F8F8FE !important;}
.u-tintSpectrum .u-baseColor--textDarker {color: #F8F8FE !important;}
.u-tintSpectrum .u-baseColor--backgroundLight {background-color: #9095A6 !important;}
.u-tintSpectrum .u-baseColor--backgroundNormal {background-color: #BBBECB !important;}
.u-tintSpectrum .u-baseColor--backgroundDark {background-color: #E4E5EE !important;}
.u-tintSpectrum .u-baseColor--buttonLight {border-color: #9095A6 !important; color: #9095A6 !important;}
.u-tintSpectrum .u-baseColor--buttonLight:hover {border-color: #9095A6 !important;}
.u-tintSpectrum .u-baseColor--buttonLight .icon:before,.u-tintSpectrum .u-baseColor--buttonLight .svgIcon {color: #9095A6 !important; fill: #9095A6 !important;}
.u-tintSpectrum .u-baseColor--buttonDark {border-color: #E4E5EE !important; color: #F8F8FE !important;}
.u-tintSpectrum .u-baseColor--buttonDark:hover {border-color: #F8F8FE !important;}
.u-tintSpectrum .u-baseColor--buttonDark .icon:before,.u-tintSpectrum .u-baseColor--buttonDark .svgIcon {color: #E4E5EE !important; fill: #E4E5EE !important;}
.u-tintSpectrum .u-baseColor--buttonNormal {border-color: #BBBECB !important; color: #BBBECB !important;}
.u-tintSpectrum .u-baseColor--buttonNormal:hover {border-color: #E4E5EE !important;}
.u-tintSpectrum .u-baseColor--buttonNormal .icon:before,.u-tintSpectrum .u-baseColor--buttonNormal .svgIcon {color: #BBBECB !important; fill: #BBBECB !important;}
.u-tintSpectrum .u-baseColor--buttonDark.button--filled,.u-tintSpectrum .u-baseColor--buttonDark.button--withChrome.is-active {background-color: #E4E5EE !important; border-color: #E4E5EE !important; color: rgba(13, 21, 45, 1) !important; fill: rgba(13, 21, 45, 1) !important;}
.u-tintSpectrum .u-baseColor--buttonNormal.button--filled,.u-tintSpectrum .u-baseColor--buttonNormal.button--withChrome.is-active {background-color: #BBBECB !important; border-color: #BBBECB !important; color: rgba(13, 21, 45, 1) !important; fill: rgba(13, 21, 45, 1) !important;}
.u-tintSpectrum .u-baseColor--link {color: #BBBECB !important;}
.u-tintSpectrum .u-baseColor--link.link--darkenOnHover:hover {color: #F8F8FE !important;}
.u-tintSpectrum .u-baseColor--link.link--darken:hover,.u-tintSpectrum .u-baseColor--link.link--darken:focus,.u-tintSpectrum .u-baseColor--link.link--darken:active {color: #F8F8FE !important;}
.u-tintSpectrum .u-baseColor--link.link--dark {color: #F8F8FE !important;}
.u-tintSpectrum .u-baseColor--link.link--dark.link--darken:hover,.u-tintSpectrum .u-baseColor--link.link--dark.link--darken:focus,.u-tintSpectrum .u-baseColor--link.link--dark.link--darken:active {color: #F8F8FE !important;}
.u-tintSpectrum .u-baseColor--link.link--darker {color: #F8F8FE !important;}
.u-tintSpectrum .u-baseColor--placeholderNormal ::-webkit-input-placeholder {color: #9095A6;}
.u-tintSpectrum .u-baseColor--placeholderNormal ::-moz-placeholder {color: #9095A6;}
.u-tintSpectrum .u-baseColor--placeholderNormal :-ms-input-placeholder {color: #9095A6;}
.u-tintSpectrum .svgIcon--logoNew path:nth-child(1) {stroke: none !important; fill: #485065 !important;}
.u-tintSpectrum .svgIcon--logoNew path:nth-child(2) {stroke: none !important; fill: #61687D !important;}
.u-tintSpectrum .svgIcon--logoNew path:nth-child(3) {stroke: none !important; fill: #9095A6 !important;}
.u-tintSpectrum .svgIcon--logoNew path:nth-child(4) {stroke: none !important; fill: #BBBECB !important;}
.u-tintSpectrum .svgIcon--logoWordmark {stroke: none !important; fill: #F8F8FE !important;}
.u-tintSpectrum .svgIcon--logoMonogram {stroke: none !important; fill: #F8F8FE !important;}
.u-tintSpectrum  .ui-h1,.u-tintSpectrum  .ui-h2,.u-tintSpectrum  .ui-h3,.u-tintSpectrum  .ui-h4,.u-tintSpectrum  .ui-brand1,.u-tintSpectrum  .ui-brand2,.u-tintSpectrum  .ui-captionStrong {color: #F8F8FE !important; fill: #F8F8FE !important;}
.u-tintSpectrum  .ui-body,.u-tintSpectrum  .ui-caps {color: #F8F8FE !important; fill: #F8F8FE !important;}
.u-tintSpectrum  .ui-summary,.u-tintSpectrum  .ui-caption {color: #9095A6 !important; fill: #9095A6 !important;}
.u-tintSpectrum .u-accentColor--borderLight {border-color: #9095A6 !important;}
.u-tintSpectrum .u-accentColor--borderNormal {border-color: #BBBECB !important;}
.u-tintSpectrum .u-accentColor--borderDark {border-color: #E4E5EE !important;}
.u-tintSpectrum .u-accentColor--iconLight .svgIcon,.u-tintSpectrum .u-accentColor--iconLight.svgIcon {fill: #9095A6 !important;}
.u-tintSpectrum .u-accentColor--iconNormal .svgIcon,.u-tintSpectrum .u-accentColor--iconNormal.svgIcon {fill: #BBBECB !important;}
.u-tintSpectrum .u-accentColor--iconDark .svgIcon,.u-tintSpectrum .u-accentColor--iconDark.svgIcon {fill: #E4E5EE !important;}
.u-tintSpectrum .u-accentColor--textNormal {color: #BBBECB !important;}
.u-tintSpectrum .u-accentColor--hoverTextNormal:hover {color: #BBBECB !important;}
.u-tintSpectrum .u-accentColor--textNormal.u-accentColor--textDarken:hover {color: #F8F8FE !important;}
.u-tintSpectrum .u-accentColor--textDark {color: #F8F8FE !important;}
.u-tintSpectrum .u-accentColor--backgroundLight {background-color: #9095A6 !important;}
.u-tintSpectrum .u-accentColor--backgroundNormal {background-color: #BBBECB !important;}
.u-tintSpectrum .u-accentColor--backgroundDark {background-color: #E4E5EE !important;}
.u-tintSpectrum .u-accentColor--buttonDark {border-color: #E4E5EE !important; color: #F8F8FE !important;}
.u-tintSpectrum .u-accentColor--buttonDark:hover {border-color: #F8F8FE !important;}
.u-tintSpectrum .u-accentColor--buttonDark .icon:before,.u-tintSpectrum .u-accentColor--buttonDark .svgIcon{color: #E4E5EE !important; fill: #E4E5EE !important;}
.u-tintSpectrum .u-accentColor--buttonNormal:not(.clapButton--largePill) {border-color: #BBBECB !important; color: #BBBECB !important;}
.u-tintSpectrum .u-accentColor--buttonNormal:hover {border-color: #E4E5EE !important;}
.u-tintSpectrum .u-accentColor--buttonNormal .icon:before,.u-tintSpectrum .u-accentColor--buttonNormal .svgIcon{color: #BBBECB !important; fill: #BBBECB !important;}
.u-tintSpectrum .u-accentColor--buttonNormal.button--filled .icon:before,.u-tintSpectrum .u-accentColor--buttonNormal.button--filled .svgIcon{color: rgba(13, 21, 45, 1) !important; fill: rgba(13, 21, 45, 1) !important;}
.u-tintSpectrum .u-accentColor--buttonDark.button--filled,.u-tintSpectrum .u-accentColor--buttonDark.button--withChrome.is-active,.u-tintSpectrum .u-accentColor--fillWhenActive.is-active {background-color: #E4E5EE !important; border-color: #E4E5EE !important; color: rgba(13, 21, 45, 1) !important; fill: rgba(13, 21, 45, 1) !important;}
.u-tintSpectrum .u-accentColor--buttonNormal.button--filled:not(.clapButton--largePill),.u-tintSpectrum .u-accentColor--buttonNormal.button--withChrome.is-active:not(.clapButton--largePill) {background-color: #BBBECB !important; border-color: #BBBECB !important; color: rgba(13, 21, 45, 1) !important; fill: rgba(13, 21, 45, 1) !important;}
.u-tintSpectrum .postArticle.is-withAccentColors .markup--user,.u-tintSpectrum .postArticle.is-withAccentColors .markup--query {color: #BBBECB !important;}
.u-accentColor--highlightFaint {background-color: rgba(239, 240, 250, 1) !important;}
.u-accentColor--highlightStrong.is-active .svgIcon {fill: rgba(216, 224, 248, 1) !important;}
.postArticle.is-withAccentColors .markup--quote.is-other {background-color: rgba(239, 240, 250, 1) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .markup--quote.is-other {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(239, 240, 250, 1), rgba(239, 240, 250, 1));}
.postArticle.is-withAccentColors .markup--quote.is-me {background-color: rgba(226, 231, 249, 1) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .markup--quote.is-me {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(226, 231, 249, 1), rgba(226, 231, 249, 1));}
.postArticle.is-withAccentColors .markup--quote.is-targeted {background-color: rgba(216, 224, 248, 1) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .markup--quote.is-targeted {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(216, 224, 248, 1), rgba(216, 224, 248, 1));}
.postArticle.is-withAccentColors .markup--quote.is-selected {background-color: rgba(216, 224, 248, 1) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .markup--quote.is-selected {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(216, 224, 248, 1), rgba(216, 224, 248, 1));}
.postArticle.is-withAccentColors .markup--highlight {background-color: rgba(216, 224, 248, 1) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .markup--highlight {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(216, 224, 248, 1), rgba(216, 224, 248, 1));}.u-baseColor--iconNormal.avatar-halo {fill: rgba(0, 0, 0, 0.4980392156862745) !important;}</style><style class="js-collectionStyleConstant">.u-imageBgColor {background-color: rgba(0, 0, 0, 0.24705882352941178);}
.u-imageSpectrum .u-baseColor--borderLight {border-color: rgba(255, 255, 255, 0.6980392156862745) !important;}
.u-imageSpectrum .u-baseColor--borderNormal {border-color: rgba(255, 255, 255, 0.8980392156862745) !important;}
.u-imageSpectrum .u-baseColor--borderDark {border-color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-baseColor--iconLight .svgIcon,.u-imageSpectrum .u-baseColor--iconLight.svgIcon {fill: rgba(255, 255, 255, 0.8) !important;}
.u-imageSpectrum .u-baseColor--iconNormal .svgIcon,.u-imageSpectrum .u-baseColor--iconNormal.svgIcon {fill: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-baseColor--iconDark .svgIcon,.u-imageSpectrum .u-baseColor--iconDark.svgIcon {fill: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--textNormal {color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-baseColor--textNormal.u-baseColor--textDarken:hover {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--textDark {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--textDarker {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--backgroundLight {background-color: rgba(255, 255, 255, 0.8980392156862745) !important;}
.u-imageSpectrum .u-baseColor--backgroundNormal {background-color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-baseColor--backgroundDark {background-color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--buttonLight {border-color: rgba(255, 255, 255, 0.6980392156862745) !important; color: rgba(255, 255, 255, 0.8) !important;}
.u-imageSpectrum .u-baseColor--buttonLight:hover {border-color: rgba(255, 255, 255, 0.6980392156862745) !important;}
.u-imageSpectrum .u-baseColor--buttonLight .icon:before,.u-imageSpectrum .u-baseColor--buttonLight .svgIcon {color: rgba(255, 255, 255, 0.8) !important; fill: rgba(255, 255, 255, 0.8) !important;}
.u-imageSpectrum .u-baseColor--buttonDark {border-color: rgba(255, 255, 255, 0.9490196078431372) !important; color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--buttonDark:hover {border-color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--buttonDark .icon:before,.u-imageSpectrum .u-baseColor--buttonDark .svgIcon {color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--buttonNormal {border-color: rgba(255, 255, 255, 0.8980392156862745) !important; color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-baseColor--buttonNormal:hover {border-color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-baseColor--buttonNormal .icon:before,.u-imageSpectrum .u-baseColor--buttonNormal .svgIcon {color: rgba(255, 255, 255, 0.9490196078431372) !important; fill: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-baseColor--buttonDark.button--filled,.u-imageSpectrum .u-baseColor--buttonDark.button--withChrome.is-active {background-color: rgba(255, 255, 255, 1) !important; border-color: rgba(255, 255, 255, 1) !important; color: rgba(0, 0, 0, 0.24705882352941178) !important; fill: rgba(0, 0, 0, 0.24705882352941178) !important;}
.u-imageSpectrum .u-baseColor--buttonNormal.button--filled,.u-imageSpectrum .u-baseColor--buttonNormal.button--withChrome.is-active {background-color: rgba(255, 255, 255, 0.9490196078431372) !important; border-color: rgba(255, 255, 255, 0.9490196078431372) !important; color: rgba(0, 0, 0, 0.24705882352941178) !important; fill: rgba(0, 0, 0, 0.24705882352941178) !important;}
.u-imageSpectrum .u-baseColor--link {color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-baseColor--link.link--darkenOnHover:hover {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--link.link--darken:hover,.u-imageSpectrum .u-baseColor--link.link--darken:focus,.u-imageSpectrum .u-baseColor--link.link--darken:active {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--link.link--dark {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--link.link--dark.link--darken:hover,.u-imageSpectrum .u-baseColor--link.link--dark.link--darken:focus,.u-imageSpectrum .u-baseColor--link.link--dark.link--darken:active {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--link.link--darker {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--placeholderNormal ::-webkit-input-placeholder {color: rgba(255, 255, 255, 0.8);}
.u-imageSpectrum .u-baseColor--placeholderNormal ::-moz-placeholder {color: rgba(255, 255, 255, 0.8);}
.u-imageSpectrum .u-baseColor--placeholderNormal :-ms-input-placeholder {color: rgba(255, 255, 255, 0.8);}
.u-imageSpectrum .svgIcon--logoNew path:nth-child(1) {stroke: none !important; fill: rgba(255, 255, 255, 0.4) !important;}
.u-imageSpectrum .svgIcon--logoNew path:nth-child(2) {stroke: none !important; fill: rgba(255, 255, 255, 0.4980392156862745) !important;}
.u-imageSpectrum .svgIcon--logoNew path:nth-child(3) {stroke: none !important; fill: rgba(255, 255, 255, 0.6980392156862745) !important;}
.u-imageSpectrum .svgIcon--logoNew path:nth-child(4) {stroke: none !important; fill: rgba(255, 255, 255, 0.8980392156862745) !important;}
.u-imageSpectrum .svgIcon--logoWordmark {stroke: none !important; fill: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .svgIcon--logoMonogram {stroke: none !important; fill: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum  .ui-h1,.u-imageSpectrum  .ui-h2,.u-imageSpectrum  .ui-h3,.u-imageSpectrum  .ui-h4,.u-imageSpectrum  .ui-brand1,.u-imageSpectrum  .ui-brand2,.u-imageSpectrum  .ui-captionStrong {color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum  .ui-body,.u-imageSpectrum  .ui-caps {color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum  .ui-summary,.u-imageSpectrum  .ui-caption {color: rgba(255, 255, 255, 0.8) !important; fill: rgba(255, 255, 255, 0.8) !important;}
.u-imageSpectrum .u-accentColor--borderLight {border-color: rgba(255, 255, 255, 0.6980392156862745) !important;}
.u-imageSpectrum .u-accentColor--borderNormal {border-color: rgba(255, 255, 255, 0.8980392156862745) !important;}
.u-imageSpectrum .u-accentColor--borderDark {border-color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-accentColor--iconLight .svgIcon,.u-imageSpectrum .u-accentColor--iconLight.svgIcon {fill: rgba(255, 255, 255, 0.8) !important;}
.u-imageSpectrum .u-accentColor--iconNormal .svgIcon,.u-imageSpectrum .u-accentColor--iconNormal.svgIcon {fill: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-accentColor--iconDark .svgIcon,.u-imageSpectrum .u-accentColor--iconDark.svgIcon {fill: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-accentColor--textNormal {color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-accentColor--hoverTextNormal:hover {color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-accentColor--textNormal.u-accentColor--textDarken:hover {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-accentColor--textDark {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-accentColor--backgroundLight {background-color: rgba(255, 255, 255, 0.8980392156862745) !important;}
.u-imageSpectrum .u-accentColor--backgroundNormal {background-color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-accentColor--backgroundDark {background-color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-accentColor--buttonDark {border-color: rgba(255, 255, 255, 0.9490196078431372) !important; color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-accentColor--buttonDark:hover {border-color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-accentColor--buttonDark .icon:before,.u-imageSpectrum .u-accentColor--buttonDark .svgIcon{color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-accentColor--buttonNormal:not(.clapButton--largePill) {border-color: rgba(255, 255, 255, 0.8980392156862745) !important; color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-accentColor--buttonNormal:hover {border-color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-accentColor--buttonNormal .icon:before,.u-imageSpectrum .u-accentColor--buttonNormal .svgIcon{color: rgba(255, 255, 255, 0.9490196078431372) !important; fill: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-accentColor--buttonNormal.button--filled .icon:before,.u-imageSpectrum .u-accentColor--buttonNormal.button--filled .svgIcon{color: rgba(0, 0, 0, 0.24705882352941178) !important; fill: rgba(0, 0, 0, 0.24705882352941178) !important;}
.u-imageSpectrum .u-accentColor--buttonDark.button--filled,.u-imageSpectrum .u-accentColor--buttonDark.button--withChrome.is-active,.u-imageSpectrum .u-accentColor--fillWhenActive.is-active {background-color: rgba(255, 255, 255, 1) !important; border-color: rgba(255, 255, 255, 1) !important; color: rgba(0, 0, 0, 0.24705882352941178) !important; fill: rgba(0, 0, 0, 0.24705882352941178) !important;}
.u-imageSpectrum .u-accentColor--buttonNormal.button--filled:not(.clapButton--largePill),.u-imageSpectrum .u-accentColor--buttonNormal.button--withChrome.is-active:not(.clapButton--largePill) {background-color: rgba(255, 255, 255, 0.9490196078431372) !important; border-color: rgba(255, 255, 255, 0.9490196078431372) !important; color: rgba(0, 0, 0, 0.24705882352941178) !important; fill: rgba(0, 0, 0, 0.24705882352941178) !important;}
.u-imageSpectrum .postArticle.is-withAccentColors .markup--user,.u-imageSpectrum .postArticle.is-withAccentColors .markup--query {color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-accentColor--highlightFaint {background-color: rgba(255, 255, 255, 0.2) !important;}
.u-imageSpectrum .u-accentColor--highlightStrong.is-active .svgIcon {fill: rgba(255, 255, 255, 0.6) !important;}
.postArticle.is-withAccentColors .u-imageSpectrum .markup--quote.is-other {background-color: rgba(255, 255, 255, 0.2) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .u-imageSpectrum .markup--quote.is-other {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.2));}
.postArticle.is-withAccentColors .u-imageSpectrum .markup--quote.is-me {background-color: rgba(255, 255, 255, 0.4) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .u-imageSpectrum .markup--quote.is-me {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(255, 255, 255, 0.4), rgba(255, 255, 255, 0.4));}
.postArticle.is-withAccentColors .u-imageSpectrum .markup--quote.is-targeted {background-color: rgba(255, 255, 255, 0.6) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .u-imageSpectrum .markup--quote.is-targeted {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.6));}
.postArticle.is-withAccentColors .u-imageSpectrum .markup--quote.is-selected {background-color: rgba(255, 255, 255, 0.6) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .u-imageSpectrum .markup--quote.is-selected {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.6));}
.postArticle.is-withAccentColors .u-imageSpectrum .markup--highlight {background-color: rgba(255, 255, 255, 0.6) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .u-imageSpectrum .markup--highlight {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.6));}.u-resetSpectrum .u-tintBgColor {background-color: rgba(255, 255, 255, 1) !important;}.u-resetSpectrum .u-tintBgColor .u-fadeLeft:before {background-image: linear-gradient(to right, rgba(255, 255, 255, 1) 0%, rgba(255, 255, 255, 0) 100%) !important;}.u-resetSpectrum .u-tintBgColor .u-fadeRight:after {background-image: linear-gradient(to right, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 1) 100%) !important;}
.u-resetSpectrum .u-baseColor--borderLight {border-color: rgba(0, 0, 0, 0.2980392156862745) !important;}
.u-resetSpectrum .u-baseColor--borderNormal {border-color: rgba(0, 0, 0, 0.4980392156862745) !important;}
.u-resetSpectrum .u-baseColor--borderDark {border-color: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--iconLight .svgIcon,.u-resetSpectrum .u-baseColor--iconLight.svgIcon {fill: rgba(0, 0, 0, 0.2980392156862745) !important;}
.u-resetSpectrum .u-baseColor--iconNormal .svgIcon,.u-resetSpectrum .u-baseColor--iconNormal.svgIcon {fill: rgba(0, 0, 0, 0.4980392156862745) !important;}
.u-resetSpectrum .u-baseColor--iconDark .svgIcon,.u-resetSpectrum .u-baseColor--iconDark.svgIcon {fill: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--textNormal {color: rgba(0, 0, 0, 0.4980392156862745) !important;}
.u-resetSpectrum .u-baseColor--textNormal.u-baseColor--textDarken:hover {color: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--textDark {color: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--textDarker {color: rgba(0, 0, 0, 0.8) !important;}
.u-resetSpectrum .u-baseColor--backgroundLight {background-color: rgba(0, 0, 0, 0.09803921568627451) !important;}
.u-resetSpectrum .u-baseColor--backgroundNormal {background-color: rgba(0, 0, 0, 0.2) !important;}
.u-resetSpectrum .u-baseColor--backgroundDark {background-color: rgba(0, 0, 0, 0.2980392156862745) !important;}
.u-resetSpectrum .u-baseColor--buttonLight {border-color: rgba(0, 0, 0, 0.2980392156862745) !important; color: rgba(0, 0, 0, 0.2980392156862745) !important;}
.u-resetSpectrum .u-baseColor--buttonLight:hover {border-color: rgba(0, 0, 0, 0.2980392156862745) !important;}
.u-resetSpectrum .u-baseColor--buttonLight .icon:before,.u-resetSpectrum .u-baseColor--buttonLight .svgIcon {color: rgba(0, 0, 0, 0.2980392156862745) !important; fill: rgba(0, 0, 0, 0.2980392156862745) !important;}
.u-resetSpectrum .u-baseColor--buttonDark {border-color: rgba(0, 0, 0, 0.6) !important; color: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--buttonDark:hover {border-color: rgba(0, 0, 0, 0.8) !important;}
.u-resetSpectrum .u-baseColor--buttonDark .icon:before,.u-resetSpectrum .u-baseColor--buttonDark .svgIcon {color: rgba(0, 0, 0, 0.6) !important; fill: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--buttonNormal {border-color: rgba(0, 0, 0, 0.4980392156862745) !important; color: rgba(0, 0, 0, 0.4980392156862745) !important;}
.u-resetSpectrum .u-baseColor--buttonNormal:hover {border-color: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--buttonNormal .icon:before,.u-resetSpectrum .u-baseColor--buttonNormal .svgIcon {color: rgba(0, 0, 0, 0.4980392156862745) !important; fill: rgba(0, 0, 0, 0.4980392156862745) !important;}
.u-resetSpectrum .u-baseColor--buttonDark.button--filled,.u-resetSpectrum .u-baseColor--buttonDark.button--withChrome.is-active {background-color: rgba(0, 0, 0, 0.2980392156862745) !important; border-color: rgba(0, 0, 0, 0.2980392156862745) !important; color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-resetSpectrum .u-baseColor--buttonNormal.button--filled,.u-resetSpectrum .u-baseColor--buttonNormal.button--withChrome.is-active {background-color: rgba(0, 0, 0, 0.2) !important; border-color: rgba(0, 0, 0, 0.2) !important; color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-resetSpectrum .u-baseColor--link {color: rgba(0, 0, 0, 0.4980392156862745) !important;}
.u-resetSpectrum .u-baseColor--link.link--darkenOnHover:hover {color: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--link.link--darken:hover,.u-resetSpectrum .u-baseColor--link.link--darken:focus,.u-resetSpectrum .u-baseColor--link.link--darken:active {color: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--link.link--dark {color: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--link.link--dark.link--darken:hover,.u-resetSpectrum .u-baseColor--link.link--dark.link--darken:focus,.u-resetSpectrum .u-baseColor--link.link--dark.link--darken:active {color: rgba(0, 0, 0, 0.8) !important;}
.u-resetSpectrum .u-baseColor--link.link--darker {color: rgba(0, 0, 0, 0.8) !important;}
.u-resetSpectrum .u-baseColor--placeholderNormal ::-webkit-input-placeholder {color: rgba(0, 0, 0, 0.2980392156862745);}
.u-resetSpectrum .u-baseColor--placeholderNormal ::-moz-placeholder {color: rgba(0, 0, 0, 0.2980392156862745);}
.u-resetSpectrum .u-baseColor--placeholderNormal :-ms-input-placeholder {color: rgba(0, 0, 0, 0.2980392156862745);}
.u-resetSpectrum .svgIcon--logoNew path:nth-child(1) {stroke: none !important; fill: rgba(0, 0, 0, 0.2) !important;}
.u-resetSpectrum .svgIcon--logoNew path:nth-child(2) {stroke: none !important; fill: rgba(0, 0, 0, 0.2980392156862745) !important;}
.u-resetSpectrum .svgIcon--logoNew path:nth-child(3) {stroke: none !important; fill: rgba(0, 0, 0, 0.4) !important;}
.u-resetSpectrum .svgIcon--logoNew path:nth-child(4) {stroke: none !important; fill: rgba(0, 0, 0, 0.4980392156862745) !important;}
.u-resetSpectrum .svgIcon--logoWordmark {stroke: none !important; fill: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .svgIcon--logoMonogram {stroke: none !important; fill: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum  .ui-h1,.u-resetSpectrum  .ui-h2,.u-resetSpectrum  .ui-h3,.u-resetSpectrum  .ui-h4,.u-resetSpectrum  .ui-brand1,.u-resetSpectrum  .ui-brand2,.u-resetSpectrum  .ui-captionStrong {color: rgba(0, 0, 0, 0.8) !important; fill: rgba(0, 0, 0, 0.8) !important;}
.u-resetSpectrum  .ui-body,.u-resetSpectrum  .ui-caps {color: rgba(0, 0, 0, 0.6) !important; fill: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum  .ui-summary,.u-resetSpectrum  .ui-caption {color: rgba(0, 0, 0, 0.2980392156862745) !important; fill: rgba(0, 0, 0, 0.2980392156862745) !important;}
.u-resetSpectrum .u-accentColor--borderLight {border-color: rgba(2, 184, 117, 1) !important;}
.u-resetSpectrum .u-accentColor--borderNormal {border-color: rgba(2, 184, 117, 1) !important;}
.u-resetSpectrum .u-accentColor--borderDark {border-color: rgba(0, 171, 107, 1) !important;}
.u-resetSpectrum .u-accentColor--iconLight .svgIcon,.u-resetSpectrum .u-accentColor--iconLight.svgIcon {fill: rgba(2, 184, 117, 1) !important;}
.u-resetSpectrum .u-accentColor--iconNormal .svgIcon,.u-resetSpectrum .u-accentColor--iconNormal.svgIcon {fill: rgba(0, 171, 107, 1) !important;}
.u-resetSpectrum .u-accentColor--iconDark .svgIcon,.u-resetSpectrum .u-accentColor--iconDark.svgIcon {fill: rgba(28, 153, 99, 1) !important;}
.u-resetSpectrum .u-accentColor--textNormal {color: rgba(0, 171, 107, 1) !important;}
.u-resetSpectrum .u-accentColor--hoverTextNormal:hover {color: rgba(0, 171, 107, 1) !important;}
.u-resetSpectrum .u-accentColor--textNormal.u-accentColor--textDarken:hover {color: rgba(28, 153, 99, 1) !important;}
.u-resetSpectrum .u-accentColor--textDark {color: rgba(28, 153, 99, 1) !important;}
.u-resetSpectrum .u-accentColor--backgroundLight {background-color: rgba(2, 184, 117, 1) !important;}
.u-resetSpectrum .u-accentColor--backgroundNormal {background-color: rgba(0, 171, 107, 1) !important;}
.u-resetSpectrum .u-accentColor--backgroundDark {background-color: rgba(28, 153, 99, 1) !important;}
.u-resetSpectrum .u-accentColor--buttonDark {border-color: rgba(0, 171, 107, 1) !important; color: rgba(28, 153, 99, 1) !important;}
.u-resetSpectrum .u-accentColor--buttonDark:hover {border-color: rgba(28, 153, 99, 1) !important;}
.u-resetSpectrum .u-accentColor--buttonDark .icon:before,.u-resetSpectrum .u-accentColor--buttonDark .svgIcon{color: rgba(28, 153, 99, 1) !important; fill: rgba(28, 153, 99, 1) !important;}
.u-resetSpectrum .u-accentColor--buttonNormal:not(.clapButton--largePill) {border-color: rgba(2, 184, 117, 1) !important; color: rgba(0, 171, 107, 1) !important;}
.u-resetSpectrum .u-accentColor--buttonNormal:hover {border-color: rgba(0, 171, 107, 1) !important;}
.u-resetSpectrum .u-accentColor--buttonNormal .icon:before,.u-resetSpectrum .u-accentColor--buttonNormal .svgIcon{color: rgba(0, 171, 107, 1) !important; fill: rgba(0, 171, 107, 1) !important;}
.u-resetSpectrum .u-accentColor--buttonNormal.button--filled .icon:before,.u-resetSpectrum .u-accentColor--buttonNormal.button--filled .svgIcon{color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-resetSpectrum .u-accentColor--buttonDark.button--filled,.u-resetSpectrum .u-accentColor--buttonDark.button--withChrome.is-active,.u-resetSpectrum .u-accentColor--fillWhenActive.is-active {background-color: rgba(28, 153, 99, 1) !important; border-color: rgba(28, 153, 99, 1) !important; color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-resetSpectrum .u-accentColor--buttonNormal.button--filled:not(.clapButton--largePill),.u-resetSpectrum .u-accentColor--buttonNormal.button--withChrome.is-active:not(.clapButton--largePill) {background-color: rgba(0, 171, 107, 1) !important; border-color: rgba(0, 171, 107, 1) !important; color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-resetSpectrum .postArticle.is-withAccentColors .markup--user,.u-resetSpectrum .postArticle.is-withAccentColors .markup--query {color: rgba(0, 171, 107, 1) !important;}</style></div></div></div><div class="loadingBar"></div><script>// <![CDATA[
window["obvInit"] = function (opt_embedded) {window["obvInit"]["embedded"] = opt_embedded; window["obvInit"]["ready"] = true;}
// ]]></script><script>// <![CDATA[
var GLOBALS = {"audioUrl":"https://d1fcbxp97j4nb2.cloudfront.net","baseUrl":"https://blog.revillweb.com","buildLabel":"34558-c2d5a62","currentUser":{"userId":"lo_9oP3ojo8zxMy","isVerified":false,"subscriberEmail":"","hasPastMemberships":false,"isEnrolledInHightower":false,"isEligibleForHightower":false,"hightowerLastLockedAt":0,"isWriterProgramEnrolled":false,"isWriterProgramInvited":false,"isWriterProgramOptedOut":false},"currentUserHasUnverifiedEmail":false,"isAuthenticated":false,"isCurrentUserVerified":false,"language":"en-us","miroUrl":"https://cdn-images-1.medium.com","moduleUrls":{"base":"https://cdn-static-1.medium.com/_/fp/gen-js/main-base.bundle.pgKKpsksgWiOJK4pMyp0jQ.js","common-async":"https://cdn-static-1.medium.com/_/fp/gen-js/main-common-async.bundle.pYwjwVk8nry2JtzhubrSWw.js","hightower":"https://cdn-static-1.medium.com/_/fp/gen-js/main-hightower.bundle.UySUdpFDFD-_dONz9AdXLg.js","home-screens":"https://cdn-static-1.medium.com/_/fp/gen-js/main-home-screens.bundle.f0cQbDGSGAsPvmDEwR-QnQ.js","misc-screens":"https://cdn-static-1.medium.com/_/fp/gen-js/main-misc-screens.bundle.BcgJNJ8CrhtnOmqjLOUjSQ.js","notes":"https://cdn-static-1.medium.com/_/fp/gen-js/main-notes.bundle.djeS9Bnan3mX2MW56hKuCA.js","payments":"https://cdn-static-1.medium.com/_/fp/gen-js/main-payments.bundle.-ThVsgwkfNumK5wKSI2IFA.js","posters":"https://cdn-static-1.medium.com/_/fp/gen-js/main-posters.bundle.j7XP3_luXqbWYH4Oq73-UQ.js","power-readers":"https://cdn-static-1.medium.com/_/fp/gen-js/main-power-readers.bundle.bKgAl-6W295E0uKBpxaYwg.js","pubs":"https://cdn-static-1.medium.com/_/fp/gen-js/main-pubs.bundle.DK-I08_zCSTwl7_wKUx1hw.js","stats":"https://cdn-static-1.medium.com/_/fp/gen-js/main-stats.bundle.QA2MkQbj6MRPG_EKVsPwdQ.js"},"previewConfig":{"weightThreshold":1,"weightImageParagraph":0.51,"weightIframeParagraph":0.8,"weightTextParagraph":0.08,"weightEmptyParagraph":0,"weightP":0.003,"weightH":0.005,"weightBq":0.003,"minPTextLength":60,"truncateBoundaryChars":20,"detectTitle":true,"detectTitleLevThreshold":0.15},"productName":"Medium","supportsEdit":true,"termsUrl":"//medium.com/policy/9db0094a1e0f","textshotHost":"textshot.medium.com","transactionId":"1533836427758:39b6547097d7","useragent":{"browser":"chrome","family":"chrome","os":"windows","version":67,"supportsDesktopEdit":true,"supportsInteract":true,"supportsView":true,"isMobile":false,"isTablet":false,"isNative":false,"supportsFileAPI":true,"isTier1":true,"clientVersion":"","unknownParagraphsBad":false,"clientChannel":"","supportsRealScrollEvents":true,"supportsVhUnits":true,"ruinsViewportSections":false,"supportsHtml5Video":true,"supportsMagicUnderlines":true,"isWebView":false,"isFacebookWebView":false,"supportsProgressiveMedia":true,"supportsPromotedPosts":true,"isBot":false,"isNativeIphone":false,"supportsCssVariables":true,"supportsVideoSections":true,"emojiSupportLevel":1,"isSearchBot":false,"isSyndicationBot":false,"supportsScrollableMetabar":true},"variants":{"allow_access":true,"allow_signup":true,"allow_test_auth":"disallow","signin_services":"twitter,facebook,google,email,google-fastidv","signup_services":"twitter,facebook,google,email,google-fastidv","android_rating_prompt_recommend_threshold":5,"google_sign_in_android":true,"reengagement_notification_duration":3,"browsable_stream_config_bucket":"curated-topics","enable_dedicated_series_tab_api_ios":true,"enable_post_import":true,"available_monthly_plan":"60e220181034","available_annual_plan":"2c754bcc2995","disable_ios_resume_reading_toast":true,"is_not_medium_subscriber":true,"glyph_font_set":"m2","enable_branding":true,"enable_branding_fonts":true,"enable_sequence_carousel":true,"enable_multirecommends":true,"enable_post_monger_v2":true,"enable_post_monger_v3":true,"enable_fastrak_beta":true,"enable_user_post_metering":true,"max_premium_content_per_user_under_metering":3,"tag_intercom_user_on_metering_count":3,"enable_automated_mission_control_triggers":true,"enable_user_profile_featured_moc":true,"enable_strong_graph_chp_reorder":true,"enable_top_stories_for_you":true,"enable_ios_member_post_labeling":true,"enable_lite_profile":true,"enable_li_search_collection":true,"enable_homepage_remodel":true,"enable_signin_wall_custom_domain":true,"app_download_email_template":"control","enable_topic_lifecycle_email":true,"enable_marketing_emails":true,"enable_curation_post_locking":true,"ios_hide_avatars_on_home":true,"raise_editors_picks_digest":"control","android_disable_author_avatars":true,"enable_quality_pool_filters":true,"enable_truncated_rss_for_tags_and_topics":true,"enable_ios_related_reads_api_change":true,"enable_ios_related_reads_ui_large":true,"enable_ios_responses_collapsed":true,"enable_parsely":true,"enable_synchronous_parsely":true,"enable_curation_master_feed":true,"enable_distributable_post_post_similarity_table":true,"enable_prepublish_flow_2":true,"enable_prepublish_flow_2_featured_image_selector":true,"enable_lite_billing_history":true,"enable_send_editors_picks_to_all_users":true,"accelerate_membership_headline_test":"feeds-headline","accelerate_paywall_copy_test":true,"enable_ios_annual_membership_option_first":true,"enable_boost_moc_in_todays_highlights":true,"enable_new_meter_email_design":true,"enable_more_moc_in_cf_section":true,"enable_profile_page_updates":true,"enable_meter_banner_copy_test":true,"annual_renewal_reminder_email_variant":"control","enable_quality_assurance_queue":true},"xsrfToken":"","iosAppId":"828256236","supportEmail":"yourfriends@medium.com","fp":{"/icons/monogram-mask.svg":"https://cdn-static-1.medium.com/_/fp/icons/monogram-mask.KPLCSFEZviQN0jQ7veN2RQ.svg","/icons/favicon-dev-editor.ico":"https://cdn-static-1.medium.com/_/fp/icons/favicon-dev-editor.YKKRxBO8EMvIqhyCwIiJeQ.ico","/icons/favicon-hatch-editor.ico":"https://cdn-static-1.medium.com/_/fp/icons/favicon-hatch-editor.BuEyHIqlyh2s_XEk4Rl32Q.ico","/icons/favicon-medium-editor.ico":"https://cdn-static-1.medium.com/_/fp/icons/favicon-medium-editor.PiakrZWB7Yb80quUVQWM6g.ico"},"authBaseUrl":"https://medium.com","imageUploadSizeMb":25,"isAuthDomainRequest":false,"domainCollectionSlug":"revillweb","algoliaApiEndpoint":"https://MQ57UUUQZ2-dsn.algolia.net","algoliaAppId":"MQ57UUUQZ2","algoliaSearchOnlyApiKey":"394474ced050e3911ae2249ecc774921","iosAppStoreUrl":"https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8","iosAppLinkBaseUrl":"medium:","algoliaIndexPrefix":"medium_","androidPlayStoreUrl":"https://play.google.com/store/apps/details?id=com.medium.reader","googleClientId":"216296035834-k1k6qe060s2tp2a2jam4ljdcms00sttg.apps.googleusercontent.com","androidPackage":"com.medium.reader","androidPlayStoreMarketScheme":"market://details?id=com.medium.reader","googleAuthUri":"https://accounts.google.com/o/oauth2/auth","androidScheme":"medium","layoutData":{"useDynamicScripts":false,"googleAnalyticsTrackingCode":"UA-24232453-2","jsShivUrl":"https://cdn-static-1.medium.com/_/fp/js/shiv.RI2ePTZ5gFmMgLzG5bEVAA.js","useDynamicCss":false,"faviconUrl":"https://cdn-static-1.medium.com/_/fp/icons/favicon-rebrand-medium.3Y6xpZ-0FSdWDnPM3hSBIA.ico","faviconImageId":"1*8I-HPL0bfoIzGied-dzOvA.png","fontSets":[{"id":8,"url":"https://glyph.medium.com/css/e/sr/latin/e/ssr/latin/e/ssb/latin/m2.css"},{"id":11,"url":"https://glyph.medium.com/css/m2.css"},{"id":9,"url":"https://glyph.medium.com/css/mkt.css"},{"id":10,"url":"https://glyph.medium.com/css/elv8.css"}],"editorFaviconUrl":"https://cdn-static-1.medium.com/_/fp/icons/favicon-rebrand-medium-editor.3Y6xpZ-0FSdWDnPM3hSBIA.ico","glyphUrl":"https://glyph.medium.com"},"authBaseUrlRev":"moc.muidem//:sptth","isDnt":false,"stripePublishableKey":"pk_live_7FReX44VnNIInZwrIIx6ghjl","archiveUploadSizeMb":100,"paymentData":{"currencies":{"1":{"label":"US Dollar","external":"usd"}},"countries":{"1":{"label":"United States of America","external":"US"}},"accountTypes":{"1":{"label":"Individual","external":"individual"},"2":{"label":"Company","external":"company"}}},"previewConfig2":{"weightThreshold":1,"weightImageParagraph":0.05,"raiseImage":true,"enforceHeaderHierarchy":true,"isImageInsetRight":true},"isAmp":false,"iosScheme":"medium","isSwBoot":false,"lightstep":{"accessToken":"ce5be895bef60919541332990ac9fef2","carrier":"{\"ot-tracer-spanid\":\"53e6e5392a13adaf\",\"ot-tracer-traceid\":\"3e00359c74a4d454\",\"ot-tracer-sampled\":\"true\"}","host":"collector-medium.lightstep.com"},"facebook":{"key":"542599432471018","namespace":"medium-com","scope":{"default":["public_profile","email"],"connect":["public_profile","email"],"login":["public_profile","email"],"share":["public_profile","email"]}},"editorsPicksTopicId":"3985d2a191c5","popularOnMediumTopicId":"9d34e48ecf94","memberContentTopicId":"13d7efd82fb2","audioContentTopicId":"3792abbd134","brandedSequenceId":"7d337ddf1941","isDoNotAuth":false,"goldfinchUrl":"https://goldfinch.medium.com","buggle":{"url":"https://buggle.medium.com","videoUrl":"https://cdn-videos-1.medium.com","audioUrl":"https://cdn-audio-1.medium.com"},"referrerType":5,"isMeteredOut":false,"meterConfig":{"maxUnlockCount":3,"windowLength":"MONTHLY"},"partnerProgramEmail":"partnerprogram@medium.com","userResearchPrompts":[{"promptId":"lo_post_page_4","type":0,"url":"www.calendly.com"},{"promptId":"lo_home_page","type":1,"url":"www.calendly.com"},{"promptId":"lo_profile_page","type":2,"url":"www.calendly.com"}],"recaptchaKey":"6LdAokEUAAAAAC7seICd4vtC8chDb3jIXDQulyUJ","paypalClientMode":"production","signinWallCustomDomainCollectionIds":["3a8144eabfe3","336d898217ee","61061eb0c96b","138adf9c44c","819cc2aaeee0"],"countryCode":"DE","bypassMeter":false,"branchKey":"key_live_ofxXr2qTrrU9NqURK8ZwEhknBxiI6KBm"}
// ]]></script><script charset="UTF-8" src="https://cdn-static-1.medium.com/_/fp/gen-js/main-base.bundle.pgKKpsksgWiOJK4pMyp0jQ.js" async></script><script>// <![CDATA[
window["obvInit"]({"value":{"id":"9f3d7427d1af","versionId":"9b3fdf7e075a","creatorId":"e97ebf5b2bc","creator":{"userId":"e97ebf5b2bc","name":"Leon Revill","username":"revillweb","createdAt":1452192651027,"lastPostCreatedAt":1533543760273,"imageId":"0*FX9hLLN2cTVIyARD.jpeg","backgroundImageId":"","bio":"Web architect, blogger & author. Working hard to make awesome things for the web platform, mostly with web components.","twitterScreenName":"revillweb","socialStats":{"userId":"e97ebf5b2bc","usersFollowedCount":69,"usersFollowedByCount":398,"type":"SocialStats"},"social":{"userId":"lo_9oP3ojo8zxMy","targetUserId":"e97ebf5b2bc","type":"Social"},"facebookAccountId":"","allowNotes":1,"isNsfw":false,"isWriterProgramInvited":false,"isPartnerProgramEnrolled":false,"isWriterProgramEnrolled":false,"isWriterProgramOptedOut":false,"type":"User"},"homeCollection":{"id":"32ee5a45be0a","name":"RevillWeb","slug":"revillweb","tags":["JAVASCRIPT","WEB COMPONENTS","WEB DEVELOPMENT"],"creatorId":"e97ebf5b2bc","description":"RevillWeb is a blog by Leon Revill a web architect who loves to share his discoveries. In this blog you will find a variety of web development articles and tutorials — mostly about web components.","shortDescription":"RevillWeb is a blog by Leon Revill a web architect who…","image":{"imageId":"1*tnrd_FVMSgByauWwR89P3Q.png","filter":"","backgroundSize":"","originalWidth":512,"originalHeight":512,"strategy":"resample","height":0,"width":0},"metadata":{"followerCount":161,"activeAt":1523982652024},"virtuals":{"permissions":{"canPublish":false,"canPublishAll":false,"canRepublish":false,"canRemove":false,"canManageAll":false,"canSubmit":false,"canEditPosts":false,"canAddWriters":false,"canViewStats":false,"canSendNewsletter":false,"canViewLockedPosts":false,"canViewCloaked":false,"canEditOwnPosts":false,"canBeAssignedAuthor":false,"canEnrollInHightower":false,"canLockPostsForMediumMembers":false,"canLockOwnPostsForMediumMembers":false},"isSubscribed":false,"isNewsletterSubscribed":false,"memberOfMembershipPlanId":"","isEnrolledInHightower":false,"isEligibleForHightower":false},"logo":{"imageId":"1*E1jCxxCSDnDCL1ylggE7ag.png","filter":"","backgroundSize":"","originalWidth":600,"originalHeight":72,"strategy":"resample","height":0,"width":0},"twitterUsername":"revillweb","domain":"blog.revillweb.com","sections":[{"type":2,"collectionHeaderMetadata":{"title":"RevillWeb","description":"Web development articles & tutorials","backgroundImage":{"id":"1*shFVq2Hz74V6QuJk8Tcq5A.jpeg","originalWidth":4176,"originalHeight":1642},"logoImage":{"id":"1*tnrd_FVMSgByauWwR89P3Q@2x.png","originalWidth":512,"originalHeight":512,"alt":"RevillWeb"},"alignment":2,"layout":6}},{"type":1,"postListMetadata":{"source":1,"layout":2,"number":1,"postIds":[]}},{"type":1,"postListMetadata":{"source":2,"layout":4,"number":1,"postIds":[]}},{"type":1,"postListMetadata":{"source":3,"layout":6,"number":5,"postIds":["66ad0bd4807a","a09ebc598d65","607b0d53018c","5cd659ec7365","fa7d028a8655"]}},{"type":1,"postListMetadata":{"source":1,"layout":4,"number":5,"postIds":[],"sectionHeader":"Latest"}}],"tintColor":"#FF0D152D","lightText":true,"favicon":{"imageId":"1*5bKpqI5leVxzGueJhYkXDw.png","filter":"","backgroundSize":"","originalWidth":256,"originalHeight":256,"strategy":"resample","height":0,"width":0},"colorPalette":{"defaultBackgroundSpectrum":{"colorPoints":[{"color":"#FF7B85A1","point":0},{"color":"#FF727B95","point":0.1},{"color":"#FF6A7289","point":0.2},{"color":"#FF61687D","point":0.3},{"color":"#FF585E70","point":0.4},{"color":"#FF4F5463","point":0.5},{"color":"#FF454A56","point":0.6},{"color":"#FF3B3F49","point":0.7},{"color":"#FF31333B","point":0.8},{"color":"#FF25272D","point":0.9},{"color":"#FF191A1E","point":1}],"backgroundColor":"#FFFFFFFF"},"tintBackgroundSpectrum":{"colorPoints":[{"color":"#FF0D152D","point":0},{"color":"#FF2D354C","point":0.1},{"color":"#FF485065","point":0.2},{"color":"#FF61687D","point":0.3},{"color":"#FF797F92","point":0.4},{"color":"#FF9095A6","point":0.5},{"color":"#FFA6AAB9","point":0.6},{"color":"#FFBBBECB","point":0.7},{"color":"#FFD0D2DD","point":0.8},{"color":"#FFE4E5EE","point":0.9},{"color":"#FFF8F8FE","point":1}],"backgroundColor":"#FF0D152D"},"highlightSpectrum":{"colorPoints":[{"color":"#FFF2F2FA","point":0},{"color":"#FFEFF0FA","point":0.1},{"color":"#FFEDEEFA","point":0.2},{"color":"#FFEAEDF9","point":0.3},{"color":"#FFE7EBF9","point":0.4},{"color":"#FFE5E9F9","point":0.5},{"color":"#FFE2E7F9","point":0.6},{"color":"#FFE0E5F9","point":0.7},{"color":"#FFDDE3F9","point":0.8},{"color":"#FFDBE2F8","point":0.9},{"color":"#FFD8E0F8","point":1}],"backgroundColor":"#FFFFFFFF"}},"navItems":[],"colorBehavior":2,"instantArticlesState":0,"acceleratedMobilePagesState":0,"ampLogo":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"header":{"title":"RevillWeb","description":"Web development articles & tutorials","backgroundImage":{"id":"1*shFVq2Hz74V6QuJk8Tcq5A.jpeg","originalWidth":4176,"originalHeight":1642},"logoImage":{"id":"1*tnrd_FVMSgByauWwR89P3Q@2x.png","originalWidth":512,"originalHeight":512,"alt":"RevillWeb"},"alignment":2,"layout":6},"type":"Collection"},"homeCollectionId":"32ee5a45be0a","title":"Open vs. Closed Shadow DOM","detectedLanguage":"en","latestVersion":"9b3fdf7e075a","latestPublishedVersion":"9b3fdf7e075a","hasUnpublishedEdits":false,"latestRev":833,"createdAt":1491569425980,"updatedAt":1528393139446,"acceptedAt":0,"firstPublishedAt":1491941825220,"latestPublishedAt":1522072465423,"vote":false,"experimentalCss":"","displayAuthor":"","content":{"subtitle":"Out of the four specifications created for Web Components, the Shadow DOM is one of the most powerful. The Shadow DOM allows the component…","bodyModel":{"paragraphs":[{"name":"3ce6","type":3,"text":"Open vs. Closed Shadow DOM","markups":[]},{"name":"bf88","type":1,"text":"Out of the four specifications created for Web Components, the Shadow DOM is one of the most powerful. The Shadow DOM allows the component author to create an encapsulated sub-DOM tree for their component.","markups":[]},{"name":"3170","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*lr3wkqeJ-hH_yvvRrffjbg.png","originalWidth":1000,"originalHeight":200},"href":"https://pluralsight.pxf.io/c/1216269/424552/7490?u=https%3A%2F%2Fwww.pluralsight.com%2Fcourses%2Fvanilla-web-components-practical-guide"},{"name":"d334","type":1,"text":"The latest version (V1) of the Shadow DOM specification introduces a new concept when creating a Shadow Root: the mode.","markups":[{"type":1,"start":114,"end":118}]},{"name":"ed64","type":1,"text":"To create a Shadow Root for an element you call the attachShadow method providing an object as an argument which has a required mode property.","markups":[{"type":10,"start":52,"end":64},{"type":10,"start":128,"end":132}]},{"name":"4b72","type":8,"text":"let $element = document.createElement(\"div\");\n$element.attachShadow({ mode: \"open\" }); // open or closed","markups":[]},{"name":"5b2e","type":1,"text":"I’ve not seen any articles discussing the practical difference between using open and closed mode of Shadow DOM so I thought I’d put a short article together along with some simple examples.","markups":[{"type":10,"start":77,"end":81},{"type":10,"start":86,"end":92},{"type":1,"start":42,"end":51}]},{"name":"2a8b","type":3,"text":"The Shadow DOM","markups":[]},{"name":"a5c3","type":1,"text":"Before I describe the difference between the open and closed modes it’s import to understand what the Shadow DOM is and what it does.","markups":[{"type":10,"start":45,"end":49},{"type":10,"start":54,"end":60}]},{"name":"1b53","type":1,"text":"As previously mentioned, the Shadow DOM allows a component author to create a sub-DOM tree. When creating a vanilla Web Component you’d typically do something like this:","markups":[]},{"name":"68a0","type":8,"text":"class MyWebComponent extends HTMLElement {\n    constructor() {\n        super();\n        this.attachShadow({ mode: \"open\" });\n    }\n    connectedCallback() {\n        this.shadowRoot.innerHTML = `\n            \x3cp\x3eI'm in the Shadow Root!\x3c/p\x3e\n        `;\n    }\n}\n\nwindow.customElements.define(\"my-web-component\", MyWebComponent);","markups":[{"type":1,"start":5,"end":6},{"type":1,"start":28,"end":29},{"type":1,"start":88,"end":124},{"type":1,"start":165,"end":180}]},{"name":"a89a","type":1,"text":"In the constructor we’re using the attachShadow method to create an open Shadow Root for the Custom Element. We are then able to access the newly created shadow root via the shadowRoot property on the element instance. We can interact with the shadow root just like we would any DOM tree. For example we could use:","markups":[{"type":10,"start":35,"end":47},{"type":10,"start":68,"end":72},{"type":10,"start":174,"end":184}]},{"name":"8fcc","type":8,"text":"this.shadowRoot.querySelector(\"p\");","markups":[]},{"name":"4ca0","type":1,"text":"To query for any paragraph elements in the shadow root.","markups":[]},{"name":"8566","type":1,"text":"We could also use appendChild to add a new element into the Shadow Root, or in the example above we are just using innerHTML to stamp an initial template.","markups":[{"type":10,"start":18,"end":29},{"type":10,"start":115,"end":124}]},{"name":"80e6","type":1,"text":"If we add this Custom Element to a document and open Chrome Dev Tools, we’ll get something like this:","markups":[]},{"name":"f888","type":4,"text":"Shadow Root in Chrome Dev Tools","markups":[],"layout":1,"metadata":{"id":"1*T6yPk-7peeXk4NhkFt_Vvg.png","originalWidth":408,"originalHeight":245}},{"name":"8026","type":1,"text":"We can see the element has an open Shadow Root with the paragraph element within. But what does this get us?","markups":[]},{"name":"5820","type":1,"text":"Because we have added the component template to a sub-DOM tree we get a certain level of encapsulation. If we added the following CSS to the main document head:","markups":[]},{"name":"46b5","type":8,"text":"\x3chead\x3e\n    \x3cmeta charset=\"UTF-8\"\x3e\n    \x3ctitle\x3eBlog Post\x3c/title\x3e\n    \x3cscript src=\"open-vs-closed.js\"\x3e\x3c/script\x3e\n    \x3cstyle\x3e\n        p {\n            color: red;\n        }\n    \x3c/style\x3e\n\x3c/head\x3e","markups":[]},{"name":"b2fb","type":1,"text":"Because the paragraph element within our component is in the Shadow Root it won’t inherit this style.","markups":[]},{"name":"6c55","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*yzZe0-UV716LT4jh3Wn7aQ.png","originalWidth":616,"originalHeight":508,"isFeatured":true}},{"name":"9daa","type":1,"text":"Additionally if we executed the following JavaScript on the main document object:","markups":[]},{"name":"2d01","type":8,"text":"document.querySelector(\"p\") // null","markups":[]},{"name":"e8d3","type":1,"text":"The result would be null because the Shadow Root won’t be queried providing the desired encapsulation.","markups":[{"type":10,"start":20,"end":24}]},{"name":"881c","type":1,"text":"With these simple concepts component authors can create an encapsulated context for their component ensuring they have control over the style and can be confident that ambient JavaScript won’t accidentally break their component.","markups":[]},{"name":"1b56","type":1,"text":"The Shadow DOM has many more features to offer, if you’d like to learn more I’d recommend reading Shadow DOM v1: Self-Contained Web Components.","markups":[{"type":3,"start":98,"end":142,"href":"https://developers.google.com/web/fundamentals/getting-started/primers/shadowdom","title":"","rel":"","anchorType":0}]},{"name":"c4b1","type":3,"text":"Open Mode","markups":[]},{"name":"190d","type":1,"text":"Now we are clear on how the Shadow DOM works in terms of its encapsulation we can move on to look at the differences between the open and closed modes.","markups":[]},{"name":"9042","type":1,"text":"The above example used the open mode which offers a decent level of encapsulation already, so what could closed mode possibility provide in addition? Not much actually.","markups":[{"type":10,"start":27,"end":31}]},{"name":"739e","type":1,"text":"When you create an open Shadow Root with this.attachShadow({ mode: “open” }) as we saw in the above examples you are then able to use the shadowRoot property to access the encapsulated sub-DOM tree.","markups":[{"type":10,"start":19,"end":23},{"type":10,"start":41,"end":76},{"type":10,"start":138,"end":148}]},{"name":"e541","type":1,"text":"In the example above we did this from within the Custom Element class definition in the connectedCallback. The shadowRoot is available on the element instance so we can just as easily access it externally from the main application.","markups":[{"type":10,"start":88,"end":105},{"type":10,"start":111,"end":121}]},{"name":"39a3","type":8,"text":"const $myWebComponent = document.querySelector(\"my-web-component\");\n$myWebComponent.shadowRoot.querySelector(\"p\").innerText = \"Modified!\";","markups":[]},{"name":"568d","type":4,"text":"With open mode a components Shadow Root is easy to update externally","markups":[],"layout":1,"metadata":{"id":"1*rC7I8OK8ZbTKh7VtzU02yA.gif","originalWidth":920,"originalHeight":454}},{"name":"f82a","type":3,"text":"Closed Mode","markups":[]},{"name":"bd09","type":1,"text":"The closed mode of Shadow DOM is an interesting feature in that it is the cause of confusion for users while offering very little in return.","markups":[{"type":10,"start":4,"end":10}]},{"name":"afcc","type":1,"text":"The closed mode of Shadow DOM provides the same encapsulation as the open mode but additionally allows the component author to hide access to the ShadowRoot, but not really — let me explain.","markups":[{"type":10,"start":4,"end":10}]},{"name":"427f","type":1,"text":"As we’ve just seen with open mode, once attachShadow has been called a reference to the elements shadow root is available on the shadowRoot property. This is not the case with closed mode: you’ll find that attachShadow returns null.","markups":[{"type":10,"start":24,"end":28},{"type":10,"start":40,"end":53},{"type":10,"start":129,"end":139},{"type":10,"start":176,"end":182},{"type":10,"start":227,"end":231}]},{"name":"0ea9","type":8,"text":"let $element = document.createElement(\"div\");\n$element.attachShadow({ mode: \"closed\" });\n$element.shadowRoot // null","markups":[]},{"name":"65ee","type":4,"text":"The shadowRoot property always returns null if using closed mode of Shadow DOM","markups":[],"layout":1,"metadata":{"id":"1*W2QO5RD3HXeiSloHDQIs1g.gif","originalWidth":764,"originalHeight":228}},{"name":"bb94","type":13,"text":"So what does this mean for Web Components?","markups":[]},{"name":"7428","type":1,"text":"Because you can’t use the shadowRoot property to access and manipulate the Shadow Root of the element you’ll need to manually store a reference to the Shadow Root yourself.","markups":[{"type":10,"start":26,"end":36}]},{"name":"1a5c","type":8,"text":"class MyWebComponent extends HTMLElement {\n    constructor() {\n        super();\n        this._root = this.attachShadow({ mode: \"closed\" });\n    }\n    connectedCallback() {\n        this._root.innerHTML = `\n            \x3cp\x3eI'm in the closed Shadow Root!\x3c/p\x3e\n        `;\n    }\n}","markups":[{"type":1,"start":88,"end":139},{"type":1,"start":180,"end":190}]},{"name":"76d4","type":8,"text":"window.customElements.define(\"my-web-component\", MyWebComponent);","markups":[]},{"name":"18c0","type":1,"text":"The only difference here is that the component author has control over how the Shadow Root is exposed on the element:","markups":[]},{"name":"1c72","type":8,"text":"const $myWebComponent = document.querySelector(\"my-web-component\");\n$myWebComponent.shadowRoot // null\n$myWebComponent._root // shadow-root (closed)","markups":[]},{"name":"77a7","type":1,"text":"This might be considered a benefit as in JavaScript, good developer etiquette dictates that a variable prefixed with an underscore “should be left well alone”. But there is nothing really stopping anyone doing the following given the above example.","markups":[]},{"name":"71a0","type":8,"text":"const $myWebComponent = document.querySelector(\"my-web-component\");\n$myWebComponent._root.querySelector(\"p\").innerText = \"Modified!\";","markups":[]},{"name":"a3c8","type":4,"text":"The so called “private” variable ain’t stopping nobody","markups":[],"layout":1,"metadata":{"id":"1*9pHh0fLdwrwQdDF_EXAWQA.gif","originalWidth":968,"originalHeight":506}},{"name":"072f","type":1,"text":"Of course you could take it one step further and wrap the Custom Element definition in a closure to prevent the reference to the Shadow Root from being accessible:","markups":[]},{"name":"2df6","type":8,"text":"(function(){\n    const _shadows = new WeakMap();\n    class MyWebComponent extends HTMLElement {\n        constructor() {\n            super();\n            _shadows.set(this, this.attachShadow({ mode: \"closed\" }));\n        }\n        connectedCallback() {\n            _shadows.get(this).innerHTML = `\n            \x3cp\x3eI'm in the closed Shadow Root!\x3c/p\x3e\n        `;\n        }\n    }\n\n    window.customElements.define(\"my-web-component\", MyWebComponent);\n})();","markups":[{"type":1,"start":17,"end":48},{"type":1,"start":153,"end":211},{"type":1,"start":264,"end":283}]},{"name":"85ef","type":1,"text":"But really there is nothing stopping someone executing the following JavaScript before your component definition.","markups":[]},{"name":"9afe","type":8,"text":"Element.prototype._attachShadow = Element.prototype.attachShadow;\nElement.prototype.attachShadow = function () {\n    return this._attachShadow( { mode: \"open\" } );\n};","markups":[{"type":1,"start":107,"end":108}]},{"name":"b564","type":1,"text":"This will hijack the native attachShadow method and force every attachShadow call to always create an open Shadow Root — leaving your supposedly closed Shadow Root open for manipulation.","markups":[{"type":10,"start":28,"end":40},{"type":10,"start":64,"end":76}]},{"name":"8060","type":3,"text":"Conclusion","markups":[]},{"name":"5f44","type":1,"text":"The closed mode of Shadow DOM has a single benefit which is to provide component authors with control over how the Shadow Root of their component is exposed (if at all) to the outside world.","markups":[{"type":10,"start":4,"end":10}]},{"name":"1907","type":1,"text":"Given that it’s incredibly easy to work around paranoid component authors hiding their Shadow Roots its probably not worth the effort.","markups":[{"type":1,"start":104,"end":133}]},{"name":"cf5b","type":1,"text":"I’d be very interested to hear other developers views on this subject so please leave a comment or find me on Twitter @RevillWeb.","markups":[{"type":3,"start":118,"end":128,"href":"https://twitter.com/revillweb","title":"","rel":"","anchorType":0}]}],"sections":[{"name":"0b40","startIndex":0}]},"postDisplay":{"coverless":true}},"virtuals":{"statusForCollection":"APPROVED","allowNotes":true,"previewImage":{"imageId":"1*yzZe0-UV716LT4jh3Wn7aQ.png","filter":"","backgroundSize":"","originalWidth":616,"originalHeight":508,"strategy":"resample","height":0,"width":0},"wordCount":1117,"imageCount":6,"readingTime":5.165094339622642,"subtitle":"Out of the four specifications created for Web Components, the Shadow DOM is one of the most powerful. The Shadow DOM allows the component…","publishedInCount":1,"usersBySocialRecommends":[],"noIndex":false,"recommends":51,"socialRecommends":[],"isBookmarked":false,"tags":[{"slug":"javascript","name":"JavaScript","postCount":68872,"virtuals":{"isFollowing":false},"metadata":{"followerCount":40995,"postCount":68872,"coverImage":{"id":"1*hC5nScgHF5dGYOFUvA4kSQ.jpeg","originalWidth":8000,"originalHeight":2972}},"type":"Tag"},{"slug":"web-development","name":"Web Development","postCount":79224,"virtuals":{"isFollowing":false},"metadata":{"followerCount":45068,"postCount":79224,"coverImage":{"id":"1*hC5nScgHF5dGYOFUvA4kSQ.jpeg","originalWidth":8000,"originalHeight":2972}},"type":"Tag"},{"slug":"web-components","name":"Web Components","postCount":503,"virtuals":{"isFollowing":false},"metadata":{"followerCount":247,"postCount":503,"coverImage":{"id":"0*tDPhabJ3VLjjqm6p.jpg","originalWidth":800,"originalHeight":1200}},"type":"Tag"},{"slug":"shadow-dom","name":"Shadow Dom","postCount":39,"virtuals":{"isFollowing":false},"metadata":{"followerCount":4,"postCount":39,"coverImage":{"id":"1*42VaFA9d-d7AqW8TtUcUtA.jpeg","originalWidth":5352,"originalHeight":3573,"isFeatured":true}},"type":"Tag"},{"slug":"custom-elements","name":"Custom Elements","postCount":52,"virtuals":{"isFollowing":false},"metadata":{"followerCount":11,"postCount":52,"coverImage":{"id":"1*42VaFA9d-d7AqW8TtUcUtA.jpeg","originalWidth":5352,"originalHeight":3573,"isFeatured":true}},"type":"Tag"}],"socialRecommendsCount":0,"responsesCreatedCount":10,"links":{"entries":[{"url":"https://twitter.com/revillweb","alts":[{"type":3,"url":"twitter://user?screen_name=revillweb"},{"type":2,"url":"twitter://user?screen_name=revillweb"}],"httpStatus":200},{"url":"https://developers.google.com/web/fundamentals/getting-started/primers/shadowdom","alts":[],"httpStatus":200},{"url":"https://pluralsight.pxf.io/c/1216269/424552/7490?u=https%3A%2F%2Fwww.pluralsight.com%2Fcourses%2Fvanilla-web-components-practical-guide","alts":[],"httpStatus":200}],"version":"0.3","generatedAt":1522072466483},"isLockedPreviewOnly":false,"takeoverId":"","metaDescription":"","totalClapCount":364,"sectionCount":1,"readingList":0,"topics":[]},"coverless":true,"slug":"open-vs-closed-shadow-dom","translationSourcePostId":"","translationSourceCreatorId":"","isApprovedTranslation":false,"inResponseToPostId":"","inResponseToRemovedAt":0,"isTitleSynthesized":true,"allowResponses":true,"importedUrl":"","importedPublishedAt":0,"visibility":0,"uniqueSlug":"open-vs-closed-shadow-dom-9f3d7427d1af","previewContent":{"bodyModel":{"paragraphs":[{"name":"previewImage","type":4,"text":"","layout":10,"metadata":{"id":"1*yzZe0-UV716LT4jh3Wn7aQ.png","originalWidth":616,"originalHeight":508,"isFeatured":true}},{"name":"3ce6","type":3,"text":"Open vs. Closed Shadow DOM","markups":[],"alignment":1},{"name":"bf88","type":1,"text":"Out of the four specifications created for Web Components, the Shadow DOM is one of the most powerful. The…","markups":[],"alignment":1}],"sections":[{"startIndex":0}]},"isFullContent":false,"subtitle":"Out of the four specifications created for Web Components, the Shadow DOM is one of the most powerful. The Shadow DOM allows the component…"},"license":0,"inResponseToMediaResourceId":"","canonicalUrl":"https://blog.revillweb.com/open-vs-closed-shadow-dom-9f3d7427d1af","approvedHomeCollectionId":"32ee5a45be0a","approvedHomeCollection":{"id":"32ee5a45be0a","name":"RevillWeb","slug":"revillweb","tags":["JAVASCRIPT","WEB COMPONENTS","WEB DEVELOPMENT"],"creatorId":"e97ebf5b2bc","description":"RevillWeb is a blog by Leon Revill a web architect who loves to share his discoveries. In this blog you will find a variety of web development articles and tutorials — mostly about web components.","shortDescription":"RevillWeb is a blog by Leon Revill a web architect who…","image":{"imageId":"1*tnrd_FVMSgByauWwR89P3Q.png","filter":"","backgroundSize":"","originalWidth":512,"originalHeight":512,"strategy":"resample","height":0,"width":0},"metadata":{"followerCount":161,"activeAt":1523982652024},"virtuals":{"permissions":{"canPublish":false,"canPublishAll":false,"canRepublish":false,"canRemove":false,"canManageAll":false,"canSubmit":false,"canEditPosts":false,"canAddWriters":false,"canViewStats":false,"canSendNewsletter":false,"canViewLockedPosts":false,"canViewCloaked":false,"canEditOwnPosts":false,"canBeAssignedAuthor":false,"canEnrollInHightower":false,"canLockPostsForMediumMembers":false,"canLockOwnPostsForMediumMembers":false},"isSubscribed":false,"isNewsletterSubscribed":false,"memberOfMembershipPlanId":"","isEnrolledInHightower":false,"isEligibleForHightower":false},"logo":{"imageId":"1*E1jCxxCSDnDCL1ylggE7ag.png","filter":"","backgroundSize":"","originalWidth":600,"originalHeight":72,"strategy":"resample","height":0,"width":0},"twitterUsername":"revillweb","domain":"blog.revillweb.com","sections":[{"type":2,"collectionHeaderMetadata":{"title":"RevillWeb","description":"Web development articles & tutorials","backgroundImage":{"id":"1*shFVq2Hz74V6QuJk8Tcq5A.jpeg","originalWidth":4176,"originalHeight":1642},"logoImage":{"id":"1*tnrd_FVMSgByauWwR89P3Q@2x.png","originalWidth":512,"originalHeight":512,"alt":"RevillWeb"},"alignment":2,"layout":6}},{"type":1,"postListMetadata":{"source":1,"layout":2,"number":1,"postIds":[]}},{"type":1,"postListMetadata":{"source":2,"layout":4,"number":1,"postIds":[]}},{"type":1,"postListMetadata":{"source":3,"layout":6,"number":5,"postIds":["66ad0bd4807a","a09ebc598d65","607b0d53018c","5cd659ec7365","fa7d028a8655"]}},{"type":1,"postListMetadata":{"source":1,"layout":4,"number":5,"postIds":[],"sectionHeader":"Latest"}}],"tintColor":"#FF0D152D","lightText":true,"favicon":{"imageId":"1*5bKpqI5leVxzGueJhYkXDw.png","filter":"","backgroundSize":"","originalWidth":256,"originalHeight":256,"strategy":"resample","height":0,"width":0},"colorPalette":{"defaultBackgroundSpectrum":{"colorPoints":[{"color":"#FF7B85A1","point":0},{"color":"#FF727B95","point":0.1},{"color":"#FF6A7289","point":0.2},{"color":"#FF61687D","point":0.3},{"color":"#FF585E70","point":0.4},{"color":"#FF4F5463","point":0.5},{"color":"#FF454A56","point":0.6},{"color":"#FF3B3F49","point":0.7},{"color":"#FF31333B","point":0.8},{"color":"#FF25272D","point":0.9},{"color":"#FF191A1E","point":1}],"backgroundColor":"#FFFFFFFF"},"tintBackgroundSpectrum":{"colorPoints":[{"color":"#FF0D152D","point":0},{"color":"#FF2D354C","point":0.1},{"color":"#FF485065","point":0.2},{"color":"#FF61687D","point":0.3},{"color":"#FF797F92","point":0.4},{"color":"#FF9095A6","point":0.5},{"color":"#FFA6AAB9","point":0.6},{"color":"#FFBBBECB","point":0.7},{"color":"#FFD0D2DD","point":0.8},{"color":"#FFE4E5EE","point":0.9},{"color":"#FFF8F8FE","point":1}],"backgroundColor":"#FF0D152D"},"highlightSpectrum":{"colorPoints":[{"color":"#FFF2F2FA","point":0},{"color":"#FFEFF0FA","point":0.1},{"color":"#FFEDEEFA","point":0.2},{"color":"#FFEAEDF9","point":0.3},{"color":"#FFE7EBF9","point":0.4},{"color":"#FFE5E9F9","point":0.5},{"color":"#FFE2E7F9","point":0.6},{"color":"#FFE0E5F9","point":0.7},{"color":"#FFDDE3F9","point":0.8},{"color":"#FFDBE2F8","point":0.9},{"color":"#FFD8E0F8","point":1}],"backgroundColor":"#FFFFFFFF"}},"navItems":[],"colorBehavior":2,"instantArticlesState":0,"acceleratedMobilePagesState":0,"ampLogo":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"header":{"title":"RevillWeb","description":"Web development articles & tutorials","backgroundImage":{"id":"1*shFVq2Hz74V6QuJk8Tcq5A.jpeg","originalWidth":4176,"originalHeight":1642},"logoImage":{"id":"1*tnrd_FVMSgByauWwR89P3Q@2x.png","originalWidth":512,"originalHeight":512,"alt":"RevillWeb"},"alignment":2,"layout":6},"type":"Collection"},"newsletterId":"","webCanonicalUrl":"https://blog.revillweb.com/open-vs-closed-shadow-dom-9f3d7427d1af","mediumUrl":"https://blog.revillweb.com/open-vs-closed-shadow-dom-9f3d7427d1af","migrationId":"","notifyFollowers":true,"notifyTwitter":true,"isSponsored":false,"isRequestToPubDisabled":false,"notifyFacebook":false,"responseHiddenOnParentPostAt":0,"isSeries":false,"isSubscriptionLocked":false,"seriesLastAppendedAt":0,"audioVersionDurationSec":0,"sequenceId":"","isNsfw":false,"isEligibleForRevenue":false,"isBlockedFromHightower":false,"deletedAt":0,"lockedPostSource":0,"hightowerMinimumGuaranteeStartsAt":0,"hightowerMinimumGuaranteeEndsAt":0,"featureLockRequestAcceptedAt":0,"featureLockRequestMinimumGuaranteeAmount":0,"isElevate":false,"mongerRequestType":1,"layerCake":0,"type":"Post"},"mentionedUsers":[],"collaborators":[],"collectionUserRelations":[],"mode":null,"references":{"User":{"e97ebf5b2bc":{"userId":"e97ebf5b2bc","name":"Leon Revill","username":"revillweb","createdAt":1452192651027,"lastPostCreatedAt":1533543760273,"imageId":"0*FX9hLLN2cTVIyARD.jpeg","backgroundImageId":"","bio":"Web architect, blogger & author. Working hard to make awesome things for the web platform, mostly with web components.","twitterScreenName":"revillweb","socialStats":{"userId":"e97ebf5b2bc","usersFollowedCount":69,"usersFollowedByCount":398,"type":"SocialStats"},"social":{"userId":"lo_9oP3ojo8zxMy","targetUserId":"e97ebf5b2bc","type":"Social"},"facebookAccountId":"","allowNotes":1,"isNsfw":false,"isWriterProgramInvited":false,"isPartnerProgramEnrolled":false,"isWriterProgramEnrolled":false,"isWriterProgramOptedOut":false,"type":"User"}},"Collection":{"32ee5a45be0a":{"id":"32ee5a45be0a","name":"RevillWeb","slug":"revillweb","tags":["JAVASCRIPT","WEB COMPONENTS","WEB DEVELOPMENT"],"creatorId":"e97ebf5b2bc","description":"RevillWeb is a blog by Leon Revill a web architect who loves to share his discoveries. In this blog you will find a variety of web development articles and tutorials — mostly about web components.","shortDescription":"RevillWeb is a blog by Leon Revill a web architect who…","image":{"imageId":"1*tnrd_FVMSgByauWwR89P3Q.png","filter":"","backgroundSize":"","originalWidth":512,"originalHeight":512,"strategy":"resample","height":0,"width":0},"metadata":{"followerCount":161,"activeAt":1523982652024},"virtuals":{"permissions":{"canPublish":false,"canPublishAll":false,"canRepublish":false,"canRemove":false,"canManageAll":false,"canSubmit":false,"canEditPosts":false,"canAddWriters":false,"canViewStats":false,"canSendNewsletter":false,"canViewLockedPosts":false,"canViewCloaked":false,"canEditOwnPosts":false,"canBeAssignedAuthor":false,"canEnrollInHightower":false,"canLockPostsForMediumMembers":false,"canLockOwnPostsForMediumMembers":false},"isSubscribed":false,"isNewsletterSubscribed":false,"memberOfMembershipPlanId":"","isEnrolledInHightower":false,"isEligibleForHightower":false},"logo":{"imageId":"1*E1jCxxCSDnDCL1ylggE7ag.png","filter":"","backgroundSize":"","originalWidth":600,"originalHeight":72,"strategy":"resample","height":0,"width":0},"twitterUsername":"revillweb","domain":"blog.revillweb.com","sections":[{"type":2,"collectionHeaderMetadata":{"title":"RevillWeb","description":"Web development articles & tutorials","backgroundImage":{"id":"1*shFVq2Hz74V6QuJk8Tcq5A.jpeg","originalWidth":4176,"originalHeight":1642},"logoImage":{"id":"1*tnrd_FVMSgByauWwR89P3Q@2x.png","originalWidth":512,"originalHeight":512,"alt":"RevillWeb"},"alignment":2,"layout":6}},{"type":1,"postListMetadata":{"source":1,"layout":2,"number":1,"postIds":[]}},{"type":1,"postListMetadata":{"source":2,"layout":4,"number":1,"postIds":[]}},{"type":1,"postListMetadata":{"source":3,"layout":6,"number":5,"postIds":["66ad0bd4807a","a09ebc598d65","607b0d53018c","5cd659ec7365","fa7d028a8655"]}},{"type":1,"postListMetadata":{"source":1,"layout":4,"number":5,"postIds":[],"sectionHeader":"Latest"}}],"tintColor":"#FF0D152D","lightText":true,"favicon":{"imageId":"1*5bKpqI5leVxzGueJhYkXDw.png","filter":"","backgroundSize":"","originalWidth":256,"originalHeight":256,"strategy":"resample","height":0,"width":0},"colorPalette":{"defaultBackgroundSpectrum":{"colorPoints":[{"color":"#FF7B85A1","point":0},{"color":"#FF727B95","point":0.1},{"color":"#FF6A7289","point":0.2},{"color":"#FF61687D","point":0.3},{"color":"#FF585E70","point":0.4},{"color":"#FF4F5463","point":0.5},{"color":"#FF454A56","point":0.6},{"color":"#FF3B3F49","point":0.7},{"color":"#FF31333B","point":0.8},{"color":"#FF25272D","point":0.9},{"color":"#FF191A1E","point":1}],"backgroundColor":"#FFFFFFFF"},"tintBackgroundSpectrum":{"colorPoints":[{"color":"#FF0D152D","point":0},{"color":"#FF2D354C","point":0.1},{"color":"#FF485065","point":0.2},{"color":"#FF61687D","point":0.3},{"color":"#FF797F92","point":0.4},{"color":"#FF9095A6","point":0.5},{"color":"#FFA6AAB9","point":0.6},{"color":"#FFBBBECB","point":0.7},{"color":"#FFD0D2DD","point":0.8},{"color":"#FFE4E5EE","point":0.9},{"color":"#FFF8F8FE","point":1}],"backgroundColor":"#FF0D152D"},"highlightSpectrum":{"colorPoints":[{"color":"#FFF2F2FA","point":0},{"color":"#FFEFF0FA","point":0.1},{"color":"#FFEDEEFA","point":0.2},{"color":"#FFEAEDF9","point":0.3},{"color":"#FFE7EBF9","point":0.4},{"color":"#FFE5E9F9","point":0.5},{"color":"#FFE2E7F9","point":0.6},{"color":"#FFE0E5F9","point":0.7},{"color":"#FFDDE3F9","point":0.8},{"color":"#FFDBE2F8","point":0.9},{"color":"#FFD8E0F8","point":1}],"backgroundColor":"#FFFFFFFF"}},"navItems":[],"colorBehavior":2,"instantArticlesState":0,"acceleratedMobilePagesState":0,"ampLogo":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"header":{"title":"RevillWeb","description":"Web development articles & tutorials","backgroundImage":{"id":"1*shFVq2Hz74V6QuJk8Tcq5A.jpeg","originalWidth":4176,"originalHeight":1642},"logoImage":{"id":"1*tnrd_FVMSgByauWwR89P3Q@2x.png","originalWidth":512,"originalHeight":512,"alt":"RevillWeb"},"alignment":2,"layout":6},"type":"Collection"}},"Social":{"e97ebf5b2bc":{"userId":"lo_9oP3ojo8zxMy","targetUserId":"e97ebf5b2bc","type":"Social"}},"SocialStats":{"e97ebf5b2bc":{"userId":"e97ebf5b2bc","usersFollowedCount":69,"usersFollowedByCount":398,"type":"SocialStats"}}}})
// ]]></script><script id="parsely-cfg" src="//d1z2jf7jlzjs58.cloudfront.net/keys/medium.com/p.js"></script></body></html>